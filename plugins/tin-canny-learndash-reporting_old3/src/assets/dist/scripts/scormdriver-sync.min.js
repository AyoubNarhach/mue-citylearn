/*! xAPIWrapper v 1.11.0 | Built on 2020-01-29 13:51:08-0500 */
var CryptoJS=(CryptoJS=CryptoJS||function(t){var e={},i=e.lib={},n=i.Base={extend:function(t){r.prototype=this;var e=new r;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}};function r(){}var a=i.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||s).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes,r=t.sigBytes;if(this.clamp(),n%4)for(var a=0;a<r;a++){var o=i[a>>>2]>>>24-a%4*8&255;e[n+a>>>2]|=o<<24-(n+a)%4*8}else if(65535<i.length)for(a=0;a<r;a+=4)e[n+a>>>2]=i[a>>>2];else e.push.apply(e,i);return this.sigBytes+=r,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=n.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i=[],n=0;n<e;n+=4)i.push(4294967296*t.random()|0);return new a.init(i,e)}}),o=e.enc={},s=o.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],r=0;r<i;r++){var a=e[r>>>2]>>>24-r%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new a.init(i,e/2)}},c=o.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],r=0;r<i;r++){var a=e[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new a.init(i,e)}},l=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},p=(o.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,n=this._map;t.clamp();for(var r=[],a=0;a<i;a+=3)for(var o=(e[a>>>2]>>>24-a%4*8&255)<<16|(e[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|e[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<i;s++)r.push(n.charAt(o>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(t){var e=t.length,i=this._map,n=i.charAt(64);if(n){var r=t.indexOf(n);-1!=r&&(e=r)}for(var o=[],s=0,c=0;c<e;c++)if(c%4){var l=i.indexOf(t.charAt(c-1))<<c%4*2,p=i.indexOf(t.charAt(c))>>>6-c%4*2;o[s>>>2]|=(l|p)<<24-s%4*8,s++}return a.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,n=i.words,r=i.sigBytes,o=this.blockSize,s=r/(4*o),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,l=t.min(4*c,r);if(c){for(var p=0;p<c;p+=o)this._doProcessBlock(n,p);var u=n.splice(0,c);i.sigBytes-=l}return new a.init(u,l)},clone:function(){var t=n.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0})),u=i.Hasher=p.extend({cfg:n.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new d.HMAC.init(t,i).finalize(e)}}}),d=e.algo={},h=[],f=d.SHA1=u.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],c=0;c<80;c++){if(c<16)h[c]=0|t[e+c];else{var l=h[c-3]^h[c-8]^h[c-14]^h[c-16];h[c]=l<<1|l>>>31}var p=(n<<5|n>>>27)+s+h[c];p+=c<20?1518500249+(r&a|~r&o):c<40?1859775393+(r^a^o):c<60?(r&a|r&o|a&o)-1894007588:(r^a^o)-899497514,s=o,o=a,a=r<<30|r>>>2,r=n,n=p}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+a|0,i[3]=i[3]+o|0,i[4]=i[4]+s|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(64+r>>>9<<4)]=t.floor(n/4294967296),i[15+(64+r>>>9<<4)]=n,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var t=u.clone.call(this);return t._hash=this._hash.clone(),t}});return e.SHA1=u._createHelper(f),e.HmacSHA1=u._createHmacHelper(f),e}(Math))||function(t){function e(){}var i={},n=i.lib={},r=n.Base={extend:function(t){e.prototype=this;var i=new e;return t&&i.mixIn(t),i.hasOwnProperty("init")||(i.init=function(){i.$super.init.apply(this,arguments)}),(i.init.prototype=i).$super=this,i},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=n.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||s).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes;if(t=t.sigBytes,this.clamp(),n%4)for(var r=0;r<t;r++)e[n+r>>>2]|=(i[r>>>2]>>>24-r%4*8&255)<<24-(n+r)%4*8;else if(65535<i.length)for(r=0;r<t;r+=4)e[n+r>>>2]=i[r>>>2];else e.push.apply(e,i);return this.sigBytes+=t,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i=[],n=0;n<e;n+=4)i.push(4294967296*t.random()|0);return new a.init(i,e)}}),o=i.enc={},s=o.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;n<t;n++){var r=e[n>>>2]>>>24-n%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new a.init(i,e/2)}},c=o.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;n<t;n++)i.push(String.fromCharCode(e[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new a.init(i,e)}},l=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},p=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,n=i.words,r=i.sigBytes,o=this.blockSize,s=r/(4*o);if(e=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*o,r=t.min(4*e,r),e){for(var c=0;c<e;c+=o)this._doProcessBlock(n,c);c=n.splice(0,e),i.sigBytes-=r}return new a.init(c,r)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=p.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new u.HMAC.init(t,i).finalize(e)}}});var u=i.algo={};return i}(Math);function toBase64(t){return CryptoJS&&CryptoJS.enc.Base64?CryptoJS.enc.Base64.stringify(CryptoJS.enc.Latin1.parse(t)):Base64.encode(t)}function toSHA1(t){return CryptoJS&&CryptoJS.SHA1?CryptoJS.SHA1(t).toString():Crypto.util.bytesToHex(Crypto.SHA1(t,{asBytes:!0}))}function toSHA256(t){if("[object ArrayBuffer]"!==Object.prototype.toString.call(t))return CryptoJS.SHA256(t).toString(CryptoJS.enc.Hex);for(var e=new Uint8Array(t),i=[],n=0;n<e.length;n+=4)i.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return CryptoJS.SHA256(CryptoJS.lib.WordArray.create(i,e.length)).toString(CryptoJS.enc.Hex)}function isDate(t){if("[object Date]"===Object.prototype.toString.call(t))var e=t;else e=new Date(t);return"[object Date]"===Object.prototype.toString.call(e)?isNaN(e.valueOf())?(ADL.XAPIWrapper.log("Invalid date String passed"),null):e:(ADL.XAPIWrapper.log("Invalid date object"),null)}function GetQueryStringValue(t,e){var i;return null===(i=SearchQueryStringPairs((e=e.substring(1)).split("&"),t))&&(i=SearchQueryStringPairs(e.split(/[\?\&]/),t)),null===i?"":i}function SearchQueryStringPairs(t,e){var i,n,r="";for(e=e.toLowerCase(),i=0;i<t.length;i++)if(-1!=(n=t[i].indexOf("="))&&EqualsIgnoreCase(t[i].substring(0,n),e))return r=t[i].substring(n+1),r=(r=new String(r)).replace(/\+/g,"%20"),r=unescape(r),new String(r);return null}function EqualsIgnoreCase(t,e){return t=new String(t),e=new String(e),t.toLowerCase()==e.toLowerCase()}function ValidInteger(t){var e=new String(t);0==e.indexOf("-",0)&&(e=e.substring(1,e.length-1));var i=new RegExp("[^0-9]");return-1==e.search(i)}!function(t){function e(t){return 4294967296*(t-(0|t))|0}for(var i=CryptoJS,n=(a=i.lib).WordArray,r=a.Hasher,a=i.algo,o=[],s=[],c=2,l=0;l<64;){var p;t:{p=c;for(var u=t.sqrt(p),d=2;d<=u;d++)if(!(p%d)){p=!1;break t}p=!0}p&&(l<8&&(o[l]=e(t.pow(c,.5))),s[l]=e(t.pow(c,1/3)),l++),c++}var h=[];a=a.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],r=i[1],a=i[2],o=i[3],c=i[4],l=i[5],p=i[6],u=i[7],d=0;d<64;d++){if(d<16)h[d]=0|t[e+d];else{var f=h[d-15],g=h[d-2];h[d]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+h[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+h[d-16]}f=u+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&l^~c&p)+s[d]+h[d],g=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&r^n&a^r&a),u=p,p=l,l=c,c=o+f|0,o=a,a=r,r=n,n=f+g|0}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+a|0,i[3]=i[3]+o|0,i[4]=i[4]+c|0,i[5]=i[5]+l|0,i[6]=i[6]+p|0,i[7]=i[7]+u|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(64+r>>>9<<4)]=t.floor(n/4294967296),i[15+(64+r>>>9<<4)]=n,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}}),i.SHA256=r._createHelper(a),i.HmacSHA256=r._createHmacHelper(a)}(Math),function(){var t=CryptoJS.enc.Utf8;CryptoJS.algo.HMAC=CryptoJS.lib.Base.extend({init:function(e,i){e=this._hasher=new e.init,"string"==typeof i&&(i=t.parse(i));var n=e.blockSize,r=4*n;i.sigBytes>r&&(i=e.finalize(i)),i.clamp();for(var a=this._oKey=i.clone(),o=this._iKey=i.clone(),s=a.words,c=o.words,l=0;l<n;l++)s[l]^=1549556828,c[l]^=909522486;a.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(t){if(void 0===t.TextEncoder){function e(t,e){if(String.prototype.codePointAt)return t.codePointAt(e);var i=(t=String(t)).length,n=e?Number(e):0;if(n!=n&&(n=0),!(n<0||i<=n)){var r,a=t.charCodeAt(n);return 55296<=a&&a<=56319&&n+1<i&&56320<=(r=t.charCodeAt(n+1))&&r<=57343?1024*(a-55296)+r-56320+65536:a}}function i(t){switch(t=t||"utf8"){case"utf-8":case"utf8":break;default:throw"TextEncoder only supports utf8"}}i.prototype.encode=function(t){for(var i=new Uint8Array(3*t.length),n=-1,r=t.length,a=0;a<r;){var o=e(t,a),s=0,c=0;for(o<=127?c=s=0:o<=2047?(s=6,c=192):o<=65535?(s=12,c=224):o<=2097151&&(s=18,c=240),i[n+=1]=c|o>>s,s-=6;0<=s;)i[n+=1]=128|o>>s&63,s-=6;a+=65536<=o?2:1}return i.subarray(0,n+1)},t.TextEncoder=i}if(void 0===t.TextDecoder){function n(t){if(String.fromCodePoint)return String.fromCodePoint(t);for(var e=[],i="",n=0,r=arguments.length;n!==r;++n){var a=+arguments[n];if(!(a<1114111&&a>>>0===a))throw RangeError("Invalid code point: "+a);16383<=(a<=65535?e.push(a):(a-=65536,e.push(55296+(a>>10),a%1024+56320)))&&(i+=String.fromCharCode.apply(null,e),e.length=0)}return i+String.fromCharCode.apply(null,e)}function r(t){switch(t=t||"utf8"){case"utf-8":case"utf8":break;default:throw"TextDecoder only supports utf8"}}r.prototype.decode=function(t){for(var e="",i=0;i<t.length;){var r=t[i],a=0,o=0;if(r<=127?(a=0,o=255&r):r<=223?(a=1,o=31&r):r<=239?(a=2,o=15&r):r<=244&&(a=3,o=7&r),0<t.length-i-a)for(var s=0;s<a;)o=o<<6|63&(r=t[i+s+1]),s+=1;else o=65533,a=t.length-i;e+=n(o),i+=a+1}return e},t.TextDecoder=r}}(this),(window.ADL=window.ADL||{}).activityTypes={assessment:"http://adlnet.gov/expapi/activities/assessment",attempt:"http://adlnet.gov/expapi/activities/attempt",course:"http://adlnet.gov/expapi/activities/course",file:"http://adlnet.gov/expapi/activities/file",cmiInteraction:"http://adlnet.gov/expapi/activities/cmi.interaction",interaction:"http://adlnet.gov/expapi/activities/interaction",lesson:"http://adlnet.gov/expapi/activities/lesson",link:"http://adlnet.gov/expapi/activities/link",media:"http://adlnet.gov/expapi/activities/media",meeting:"http://adlnet.gov/expapi/activities/meeting",module:"http://adlnet.gov/expapi/activities/module",objective:"http://adlnet.gov/expapi/activities/objective",performance:"http://adlnet.gov/expapi/activities/performance",profile:"http://adlnet.gov/expapi/activities/profile",question:"http://adlnet.gov/expapi/activities/question",simulation:"http://adlnet.gov/expapi/activities/simulation"},(window.ADL=window.ADL||{}).verbs={abandoned:{id:"https://w3id.org/xapi/adl/verbs/abandoned",display:{"en-US":"abandoned"}},answered:{id:"http://adlnet.gov/expapi/verbs/answered",display:{"de-DE":"beantwortete","en-US":"answered","fr-FR":"a répondu","es-ES":"contestó","ar-AR":"أجاب"}},asked:{id:"http://adlnet.gov/expapi/verbs/asked",display:{"de-DE":"fragte","en-US":"asked","fr-FR":"a demandé","es-ES":"preguntó","ar-AR":"طلب"}},attempted:{id:"http://adlnet.gov/expapi/verbs/attempted",display:{"de-DE":"versuchte","en-US":"attempted","fr-FR":"a essayé","es-ES":"intentó","ar-AR":"حاول"}},attended:{id:"http://adlnet.gov/expapi/verbs/attended",display:{"de-DE":"nahm teil an","en-US":"attended","fr-FR":"a suivi","es-ES":"asistió","ar-AR":"حضر"}},commented:{id:"http://adlnet.gov/expapi/verbs/commented",display:{"de-DE":"kommentierte","en-US":"commented","fr-FR":"a commenté","es-ES":"comentó","ar-AR":"علق"}},completed:{id:"http://adlnet.gov/expapi/verbs/completed",display:{"de-DE":"beendete","en-US":"completed","fr-FR":"a terminé","es-ES":"completó","ar-AR":"أكمل"}},exited:{id:"http://adlnet.gov/expapi/verbs/exited",display:{"de-DE":"verließ","en-US":"exited","fr-FR":"a quitté","es-ES":"salió","ar-AR":"خرج"}},experienced:{id:"http://adlnet.gov/expapi/verbs/experienced",display:{"de-DE":"erlebte","en-US":"experienced","fr-FR":"a éprouvé","es-ES":"experimentó","ar-AR":"شاهد"}},failed:{id:"http://adlnet.gov/expapi/verbs/failed",display:{"de-DE":"verfehlte","en-US":"failed","fr-FR":"a échoué","es-ES":"fracasó","ar-AR":"فشل"}},imported:{id:"http://adlnet.gov/expapi/verbs/imported",display:{"de-DE":"importierte","en-US":"imported","fr-FR":"a importé","es-ES":"importó","ar-AR":"مستورد"}},initialized:{id:"http://adlnet.gov/expapi/verbs/initialized",display:{"de-DE":"initialisierte","en-US":"initialized","fr-FR":"a initialisé","es-ES":"inicializó","ar-AR":"بدأ"}},interacted:{id:"http://adlnet.gov/expapi/verbs/interacted",display:{"de-DE":"interagierte","en-US":"interacted","fr-FR":"a interagi","es-ES":"interactuó","ar-AR":"تفاعل"}},launched:{id:"http://adlnet.gov/expapi/verbs/launched",display:{"de-DE":"startete","en-US":"launched","fr-FR":"a lancé","es-ES":"lanzó","ar-AR":"أطلق"}},mastered:{id:"http://adlnet.gov/expapi/verbs/mastered",display:{"de-DE":"meisterte","en-US":"mastered","fr-FR":"a maîtrisé","es-ES":"dominó","ar-AR":"أتقن"}},passed:{id:"http://adlnet.gov/expapi/verbs/passed",display:{"de-DE":"bestand","en-US":"passed","fr-FR":"a réussi","es-ES":"aprobó","ar-AR":"نجح"}},preferred:{id:"http://adlnet.gov/expapi/verbs/preferred",display:{"de-DE":"bevorzugte","en-US":"preferred","fr-FR":"a préféré","es-ES":"prefirió","ar-AR":"فضل"}},progressed:{id:"http://adlnet.gov/expapi/verbs/progressed",display:{"de-DE":"machte Fortschritt mit","en-US":"progressed","fr-FR":"a progressé","es-ES":"progresó","ar-AR":"تقدم"}},registered:{id:"http://adlnet.gov/expapi/verbs/registered",display:{"de-DE":"registrierte","en-US":"registered","fr-FR":"a enregistré","es-ES":"registró","ar-AR":"سجل"}},responded:{id:"http://adlnet.gov/expapi/verbs/responded",display:{"de-DE":"reagierte","en-US":"responded","fr-FR":"a répondu","es-ES":"respondió","ar-AR":"استجاب"}},resumed:{id:"http://adlnet.gov/expapi/verbs/resumed",display:{"de-DE":"setzte fort","en-US":"resumed","fr-FR":"a repris","es-ES":"continuó","ar-AR":"استأنف"}},satisfied:{id:"https://w3id.org/xapi/adl/verbs/satisfied",display:{"de-DE":"befriedigt","en-US":"satisfied","fr-FR":"satisfaite","es-ES":"satisfecho","ar-AR":"راض"}},scored:{id:"http://adlnet.gov/expapi/verbs/scored",display:{"de-DE":"erreichte","en-US":"scored","fr-FR":"a marqué","es-ES":"anotó","ar-AR":"سحل النقاط"}},shared:{id:"http://adlnet.gov/expapi/verbs/shared",display:{"de-DE":"teilte","en-US":"shared","fr-FR":"a partagé","es-ES":"compartió","ar-AR":"شارك"}},suspended:{id:"http://adlnet.gov/expapi/verbs/suspended",display:{"de-DE":"pausierte","en-US":"suspended","fr-FR":"a suspendu","es-ES":"aplazó","ar-AR":"علق"}},terminated:{id:"http://adlnet.gov/expapi/verbs/terminated",display:{"de-DE":"beendete","en-US":"terminated","fr-FR":"a terminé","es-ES":"terminó","ar-AR":"أنهى"}},voided:{id:"http://adlnet.gov/expapi/verbs/voided",display:{"de-DE":"entwertete","en-US":"voided","fr-FR":"a annulé","es-ES":"anuló","ar-AR":"فرغ"}},waived:{id:"https://w3id.org/xapi/adl/verbs/waived",display:{"de-DE":"verzichtet","en-US":"waived","fr-FR":"renoncé","es-ES":"renunciado","ar-AR":"تخلى"}}},Date.prototype.toISOString||function(){function t(t){var e=String(t);return 1===e.length&&(e="0"+e),e}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(),function(t){function e(e,i){function n(e){var i=document.createElement("a");if(i.href=e,i.protocol&&i.host)return i.protocol+"//"+i.host;if(i.href){var n=i.href.split("//");return n[0]+"//"+n[1].substr(0,n[1].indexOf("/"))}t.XAPIWrapper.log("Couldn't create base url from endpoint: "+e)}function a(t,e,i){t.auth="Basic "+toBase64(e+":"+i)}this.lrs=function(t){var e,i,n=["endpoint","auth","actor","registration","activity_id","grouping","activity_platform"],r=new Object;if(void 0!==(e=function(){var t,e,i,n;for(t=window.location.search.substr(1).split("&"),n={},i=0;i<t.length;i++)2===(e=t[i].split("=")).length&&e[0]&&(n[e[0]]=decodeURIComponent(e[1]));return n}())&&0!==Object.keys(e).length){for(var a=0;a<n.length;a++)e[i=n[a]]&&(r[i]=e[i],delete e[i]);r=o(t,r)}else r=t;return r}(e||{}),this.lrs.user&&this.lrs.password&&a(this.lrs,this.lrs.user,this.lrs.password),this.base=n(this.lrs.endpoint),this.withCredentials=!1,e&&void 0!==e.withCredentials&&(this.withCredentials=e.withCredentials),this.strictCallbacks=!1,this.strictCallbacks=e&&e.strictCallbacks,i&&r.call(this)&&window.ADL.XHR_request(this.lrs,this.lrs.endpoint+"about","GET",null,null,(function(e){if(200==e.status)try{var i=JSON.parse(e.response),n=!1;for(var r in i.version)if(i.version.hasOwnProperty(r)&&i.version[r]==t.XAPIWrapper.xapiVersion){n=!0;break}n||t.XAPIWrapper.log("The lrs version ["+i.version+"] does not match this wrapper's XAPI version ["+t.XAPIWrapper.xapiVersion+"]")}catch(e){t.XAPIWrapper.log("The response was not an about object")}else t.XAPIWrapper.log("The request to get information about the LRS failed: "+e)}),null,!1,null,this.withCredentials,!1),this.searchParams=function(){return{format:"exact"}},this.hash=function(e){if(!e)return null;try{return toSHA1(e)}catch(e){return t.XAPIWrapper.log("Error trying to hash -- "+e),null}},this.changeConfig=function(e){try{t.XAPIWrapper.log("updating lrs object with new configuration"),this.lrs=o(this.lrs,e),e.user&&e.password&&this.updateAuth(this.lrs,e.user,e.password),this.base=n(this.lrs.endpoint),this.withCredentials=e.withCredentials,this.strictCallbacks=e.strictCallbacks}catch(e){t.XAPIWrapper.log("error while changing configuration -- "+e)}},this.updateAuth=a}a.debug=!1;var i,n=((i={endpoint:"http://localhost:8000/xapi/"}).auth="Basic "+toBase64("tom:1234"),i);function r(){try{return null!=this.lrs.endpoint&&""!=this.lrs.endpoint}catch(t){return!1}}function a(t){if(!a.debug)return!1;try{return console.log(t),!0}catch(t){return!1}}function o(t,e){for(var i in e)if(0!=e.hasOwnProperty(i)){a(i+" : "+e[i]);try{e[i].constructor==Object?t[i]=o(t[i],e[i]):(null==t&&(t=new Object),t[i]=e[i])}catch(n){null==t&&(t=new Object),t[i]=e[i]}}return t}e.prototype.xapiVersion="1.0.1",e.prototype.prepareStatement=function(t){void 0===t.actor?t.actor=JSON.parse(this.lrs.actor):"string"==typeof t.actor&&(t.actor=JSON.parse(t.actor)),(this.lrs.grouping||this.lrs.registration||this.lrs.activity_platform)&&(t.context||(t.context={})),this.lrs.grouping&&(t.context.contextActivities||(t.context.contextActivities={}),Array.isArray(t.context.contextActivities.grouping)?t.context.contextActivities.grouping.splice(0,0,{id:this.lrs.grouping}):t.context.contextActivities.grouping=[{id:this.lrs.grouping}]),this.lrs.registration&&(t.context.registration=this.lrs.registration),this.lrs.activity_platform&&(t.context.platform=this.lrs.activity_platform)},e.prototype.testConfig=r,e.prototype.log=a,e.prototype.defaultEncoding="utf-8",e.prototype.sendStatement=function(e,i,n){if(this.testConfig()){var r;this.prepareStatement(e),e.id?r=e.id:(r=t.ruuid(),e.id=r);var a=JSON.stringify(e),o=null;n&&0<n.length&&(o={},a=this.buildMultipartPost(e,n,o));var s=t.XHR_request(this.lrs,this.lrs.endpoint+"statements","POST",a,this.lrs.auth,i,{id:r},null,o,this.withCredentials,this.strictCallbacks);if(!i)return{xhr:s,id:r}}},e.prototype.stringToArrayBuffer=function(e,i){return i=i||t.XAPIWrapper.defaultEncoding,new TextEncoder(i).encode(e).buffer},e.prototype.stringFromArrayBuffer=function(e,i){return i=i||t.XAPIWrapper.defaultEncoding,new TextDecoder(i).decode(e)},e.prototype.buildMultipartPost=function(t,e,i){t.attachments=[];for(var n=0;n<e.length;n++)"signature"==e[n].type&&(e[n].type={usageType:"http://adlnet.gov/expapi/attachments/signature",display:{"en-US":"A JWT signature"},description:{"en-US":"A signature proving the statement was not modified"},contentType:"application/octet-stream"}),"string"==typeof e[n].value&&(e[n].value=this.stringToArrayBuffer(e[n].value)),e[n].type.length=e[n].value.byteLength,e[n].type.sha2=toSHA256(e[n].value),t.attachments.push(e[n].type);var r=[],a=(Math.random()+" ").substring(2,10)+(Math.random()+" ").substring(2,10);i["Content-Type"]="multipart/mixed; boundary="+a;var o="\r\n",s=["--"+a,"Content-Type: application/json",'Content-Disposition: form-data; name="statement"',"",JSON.stringify(t)].join(o)+o;for(var n in r.push(s),e)if(e.hasOwnProperty(n)){var c=["--"+a,"Content-Type: "+e[n].type.contentType,"Content-Transfer-Encoding: binary","X-Experience-API-Hash: "+e[n].type.sha2].join(o)+o+o;r.push(c),r.push(e[n].value)}return r.push("\r\n--"+a+"--"+o),new Blob(r)},e.prototype.sendStatements=function(e,i){if(this.testConfig()){for(var n in e)e.hasOwnProperty(n)&&this.prepareStatement(e[n]);var r=t.XHR_request(this.lrs,this.lrs.endpoint+"statements","POST",JSON.stringify(e),this.lrs.auth,i,null,!1,null,this.withCredentials,this.strictCallbacks);if(!i)return r}},e.prototype.getStatements=function(e,i,n){if(this.testConfig()){var r=this.lrs.endpoint+"statements";if(i)r=this.base+i;else{var a=new Array;for(s in e)if(e.hasOwnProperty(s))if("until"==s||"since"==s){var o=new Date(e[s]);a.push(s+"="+encodeURIComponent(o.toISOString()))}else a.push(s+"="+encodeURIComponent(e[s]));0<a.length&&(r=r+"?"+a.join("&"))}var c=t.XHR_request(this.lrs,r,"GET",null,this.lrs.auth,n,null,!1,null,this.withCredentials,this.strictCallbacks);if(void 0===c||404==c.status)return null;try{return JSON.parse(c.response)}catch(e){return c.response}}},e.prototype.getActivities=function(e,i){if(this.testConfig()){var n=this.lrs.endpoint+"activities?activityId=<activityid>";n=n.replace("<activityid>",encodeURIComponent(e));var r=t.XHR_request(this.lrs,n,"GET",null,this.lrs.auth,i,null,!0,null,this.withCredentials,this.strictCallbacks);if(void 0===r||404==r.status)return null;try{return JSON.parse(r.response)}catch(e){return r.response}}},e.prototype.sendState=function(e,i,n,r,o,s,c,l){if(this.testConfig()){var p=this.lrs.endpoint+"activities/state?activityId=<activity ID>&agent=<agent>&stateId=<stateid>";p=(p=(p=p.replace("<activity ID>",encodeURIComponent(e))).replace("<agent>",encodeURIComponent(JSON.stringify(i)))).replace("<stateid>",encodeURIComponent(n)),r&&(p+="&registration="+encodeURIComponent(r));var u=null;s&&c?a("Can't have both If-Match and If-None-Match"):s?u={"If-Match":t.formatHash(s)}:c&&(u={"If-None-Match":t.formatHash(c)});var d="PUT";if(!o)return this.log("No activity state was included."),!1;o instanceof Array?(o=JSON.stringify(o),(u=u||{})["Content-Type"]="application/json"):o instanceof Object?(o=JSON.stringify(o),(u=u||{})["Content-Type"]="application/json",d="POST"):(u=u||{})["Content-Type"]="application/octet-stream",t.XHR_request(this.lrs,p,d,o,this.lrs.auth,l,null,null,u,this.withCredentials,this.strictCallbacks)}},e.prototype.getState=function(e,i,n,r,a,o){if(this.testConfig()){var s=this.lrs.endpoint+"activities/state?activityId=<activity ID>&agent=<agent>";s=(s=s.replace("<activity ID>",encodeURIComponent(e))).replace("<agent>",encodeURIComponent(JSON.stringify(i))),n&&(s+="&stateId="+encodeURIComponent(n)),r&&(s+="&registration="+encodeURIComponent(r)),a&&null!=(a=isDate(a))&&(s+="&since="+encodeURIComponent(a.toISOString()));var c=t.XHR_request(this.lrs,s,"GET",null,this.lrs.auth,o,null,!0,null,this.withCredentials,this.strictCallbacks);if(void 0===c||404==c.status)return null;try{return c.response}catch(e){return c.response}}},e.prototype.deleteState=function(e,i,n,r,o,s,c){if(this.testConfig()){var l=this.lrs.endpoint+"activities/state?activityId=<activity ID>&agent=<agent>&stateId=<stateid>";l=(l=(l=l.replace("<activity ID>",encodeURIComponent(e))).replace("<agent>",encodeURIComponent(JSON.stringify(i)))).replace("<stateid>",encodeURIComponent(n)),r&&(l+="&registration="+encodeURIComponent(r));var p=null;o&&s?a("Can't have both If-Match and If-None-Match"):o?p={"If-Match":t.formatHash(o)}:s&&(p={"If-None-Match":t.formatHash(s)});var u=t.XHR_request(this.lrs,l,"DELETE",null,this.lrs.auth,c,null,!1,p,this.withCredentials,this.strictCallbacks);if(void 0===u||404==u.status)return null;try{return JSON.parse(u.response)}catch(e){return u}}},e.prototype.sendActivityProfile=function(e,i,n,r,o,s){if(this.testConfig()){var c=this.lrs.endpoint+"activities/profile?activityId=<activity ID>&profileId=<profileid>";c=(c=c.replace("<activity ID>",encodeURIComponent(e))).replace("<profileid>",encodeURIComponent(i));var l=null;r&&o?a("Can't have both If-Match and If-None-Match"):r?l={"If-Match":t.formatHash(r)}:o&&(l={"If-None-Match":t.formatHash(o)});var p="PUT";if(!n)return this.log("No activity profile was included."),!1;n instanceof Array?(n=JSON.stringify(n),(l=l||{})["Content-Type"]="application/json"):n instanceof Object?(n=JSON.stringify(n),(l=l||{})["Content-Type"]="application/json",p="POST"):(l=l||{})["Content-Type"]="application/octet-stream",t.XHR_request(this.lrs,c,p,n,this.lrs.auth,s,null,!1,l,this.withCredentials,this.strictCallbacks)}},e.prototype.getActivityProfile=function(e,i,n,r){if(this.testConfig()){var a=this.lrs.endpoint+"activities/profile?activityId=<activity ID>";a=a.replace("<activity ID>",encodeURIComponent(e)),i&&(a+="&profileId="+encodeURIComponent(i)),n&&null!=(n=isDate(n))&&(a+="&since="+encodeURIComponent(n.toISOString()));var o=t.XHR_request(this.lrs,a,"GET",null,this.lrs.auth,r,null,!0,null,this.withCredentials,this.strictCallbacks);if(void 0===o||404==o.status)return null;try{return JSON.parse(o.response)}catch(e){return o.response}}},e.prototype.deleteActivityProfile=function(e,i,n,r,o){if(this.testConfig()){var s=this.lrs.endpoint+"activities/profile?activityId=<activity ID>&profileId=<profileid>";s=(s=s.replace("<activity ID>",encodeURIComponent(e))).replace("<profileid>",encodeURIComponent(i));var c=null;n&&r?a("Can't have both If-Match and If-None-Match"):n?c={"If-Match":t.formatHash(n)}:r&&(c={"If-None-Match":t.formatHash(r)});var l=t.XHR_request(this.lrs,s,"DELETE",null,this.lrs.auth,o,null,!1,c,this.withCredentials,this.strictCallbacks);if(void 0===l||404==l.status)return null;try{return JSON.parse(l.response)}catch(e){return l}}},e.prototype.getAgents=function(e,i){if(this.testConfig()){var n=this.lrs.endpoint+"agents?agent=<agent>";n=n.replace("<agent>",encodeURIComponent(JSON.stringify(e)));var r=t.XHR_request(this.lrs,n,"GET",null,this.lrs.auth,i,null,!0,null,this.withCredentials,this.strictCallbacks);if(void 0===r||404==r.status)return null;try{return JSON.parse(r.response)}catch(e){return r.response}}},e.prototype.sendAgentProfile=function(e,i,n,r,o,s){if(this.testConfig()){var c=this.lrs.endpoint+"agents/profile?agent=<agent>&profileId=<profileid>";c=(c=c.replace("<agent>",encodeURIComponent(JSON.stringify(e)))).replace("<profileid>",encodeURIComponent(i));var l=null;r&&o?a("Can't have both If-Match and If-None-Match"):r?l={"If-Match":t.formatHash(r)}:o&&(l={"If-None-Match":t.formatHash(o)});var p="PUT";if(!n)return this.log("No agent profile was included."),!1;n instanceof Array?(n=JSON.stringify(n),(l=l||{})["Content-Type"]="application/json"):n instanceof Object?(n=JSON.stringify(n),(l=l||{})["Content-Type"]="application/json",p="POST"):(l=l||{})["Content-Type"]="application/octet-stream",t.XHR_request(this.lrs,c,p,n,this.lrs.auth,s,null,!1,l,this.withCredentials,this.strictCallbacks)}},e.prototype.getAgentProfile=function(e,i,n,r){if(this.testConfig()){var a=this.lrs.endpoint+"agents/profile?agent=<agent>";a=(a=a.replace("<agent>",encodeURIComponent(JSON.stringify(e)))).replace("<profileid>",encodeURIComponent(i)),i&&(a+="&profileId="+encodeURIComponent(i)),n&&null!=(n=isDate(n))&&(a+="&since="+encodeURIComponent(n.toISOString()));var o=t.XHR_request(this.lrs,a,"GET",null,this.lrs.auth,r,null,!0,null,this.withCredentials,this.strictCallbacks);if(void 0===o||404==o.status)return null;try{return JSON.parse(o.response)}catch(e){return o.response}}},e.prototype.deleteAgentProfile=function(e,i,n,r,o){if(this.testConfig()){var s=this.lrs.endpoint+"agents/profile?agent=<agent>&profileId=<profileid>";s=(s=s.replace("<agent>",encodeURIComponent(JSON.stringify(e)))).replace("<profileid>",encodeURIComponent(i));var c=null;n&&r?a("Can't have both If-Match and If-None-Match"):n?c={"If-Match":t.formatHash(n)}:r&&(c={"If-None-Match":t.formatHash(r)});var l=t.XHR_request(this.lrs,s,"DELETE",null,this.lrs.auth,o,null,!1,c,this.withCredentials,this.strictCallbacks);if(void 0===l||404==l.status)return null;try{return JSON.parse(l.response)}catch(e){return l}}},t.ruuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},t.dateFromISOString=function(t){var e=t.match(new RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T| ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),i=0,n=new Date(e[1],0,1);e[3]&&n.setMonth(e[3]-1),e[5]&&n.setDate(e[5]),e[7]&&n.setHours(e[7]),e[8]&&n.setMinutes(e[8]),e[10]&&n.setSeconds(e[10]),e[12]&&n.setMilliseconds(1e3*Number("0."+e[12])),e[14]&&(i=60*Number(e[16])+Number(e[17]),i*="-"==e[15]?1:-1),i-=n.getTimezoneOffset(),time=Number(n)+60*i*1e3;var r=new Date;return r.setTime(Number(time)),r},t.XHR_request=function(e,i,n,r,a,o,s,c,l,p,u){"use strict";var d,h,f,g,v,m,y=!1,S=!1,x=!1,b=i.toLowerCase().match(/^(.+):\/\/([^:\/]*):?(\d+)?(\/.*)?$/),w=window.location,A={"Content-Type":"application/json"};if(A.Authorization=a,A["X-Experience-API-Version"]=t.XAPIWrapper.xapiVersion,null!==l)for(var I in l)l.hasOwnProperty(I)&&(A[I]=l[I]);if(S=(S=w.protocol.toLowerCase()!==b[1]||w.hostname.toLowerCase()!==b[2])||(null===b[3]?"http"===b[1]?"80":"443":b[3])===w.port,null!==e&&void 0!==e.extended){for(v in g=new Array,e.extended)g.push(v+"="+e.extended[v]);0<g.length&&(i+=(-1<i.indexOf("?")?"&":"?")+g.join("&"))}var C,_,R=window.XDomainRequest&&window.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType;if(S&&void 0!==R&&!1!==R)x=!0,h=function(t,e,i,n){var r=e,a=new Array,o=r.indexOf("?");if(0<o&&(a.push(r.substr(o+1)),r=r.substr(0,o)),r=r+"?method="+t,null!==i)for(var s in i)i.hasOwnProperty(s)&&a.push(s+"="+encodeURIComponent(i[s]));return null!==n&&a.push("content="+encodeURIComponent(n)),{method:"POST",url:r,headers:{},data:a.join("&")}}(n,i,A,r),(d=new XDomainRequest).open(h.method,h.url);else for(var I in(d=new XMLHttpRequest).withCredentials=p,d.open(n,i,null!=o),A)d.setRequestHeader(I,A[I]);function D(){if(y)return f;y=!0;var e=c&&404===d.status;if(!(void 0===d.status||200<=d.status&&d.status<400||e)){var r;try{r="There was a problem communicating with the Learning Record Store. ( "+d.status+" | "+d.response+" )"+i}catch(e){r=e.toString()}return t.XAPIWrapper.log(r),t.xhrRequestOnError(d,n,i,o,s,u),f=d}if(!o)return f=d;if(s)u?o(null,d,s):o(d,s);else{var a;try{a=JSON.parse(d.responseText)}catch(e){a=d.responseText}u?o(null,d,a):o(d,a)}}if(d.onreadystatechange=function(){if(4===d.readyState)return D()},d.onload=D,d.onerror=D,d.send(x?h.data:r),!o){if(x)for(m=1e3+new Date;new Date<m&&4!==d.readyState&&!y;)C=void 0,C=new XMLHttpRequest,_=window.location+"?forcenocache="+t.ruuid(),C.open("GET",_,!1),C.send(null);return D()}},t.xhrRequestOnError=function(t,e,i,n,r,a){if(n&&a){var o,s=t?t.status:void 0;if(o=s?new Error("Request error: "+t.status):0===s||null===s?new Error("Request error: aborted"):new Error("Reqeust error: unknown"),r)n(o,t,r);else{var c;try{c=JSON.parse(t.responseText)}catch(e){c=t.responseText}n(o,t,c)}}},t.formatHash=function(t){return"*"===t?t:'"'+t+'"'},t.XAPIWrapper=new e(n,!1)}(window.ADL=window.ADL||{}),function(t){function e(t,i){var n=i.split("."),r=n[0];return i=n.slice(1).join("."),t[r]||(/\[\]$/.test(r)?(r=r.slice(0,-2),Array.isArray(t[r])||(t[r]=[])):t[r]={}),i?e(t[r],i):t[r]}function i(e,i,l,p){if(e&&e.actor&&e.verb&&e.object){var u=e;for(var d in u)"actor"!=d&&"verb"!=d&&"object"!=d&&(this[d]=u[d]);e=u.actor,i=u.verb,l=u.object}e?e instanceof n?this.actor=e:"Agent"!==e.objectType&&e.objectType?"Group"===e.objectType&&(this.actor=new r(e)):this.actor=new n(e):this.actor=null,this.verb=i?i instanceof a?i:new a(i):null,l?"Activity"!==l.objectType&&l.objectType?"Agent"===l.objectType?this.object=l instanceof n?l:new n(l):"Group"===l.objectType?this.object=l instanceof r?l:new r(l):"StatementRef"===l.objectType?this.object=l instanceof s?l:new s(l):"SubStatement"===l.objectType?this.object=l instanceof c?l:new c(l):this.object=null:this.object=l instanceof o?l:new o(l):this.object=null,p&&(this.result=p),this.generateId=function(){this.id=t.ruuid()}}i.prototype.toString=function(){return this.actor.toString()+" "+this.verb.toString()+" "+this.object.toString()+" "+this.result.toString()},i.prototype.isValid=function(){return this.actor&&this.actor.isValid()&&this.verb&&this.verb.isValid()&&this.object&&this.object.isValid()&&this.result&&this.result.isValid()},i.prototype.generateRegistration=function(){e(this,"context").registration=t.ruuid()},i.prototype.addParentActivity=function(t){e(this,"context.contextActivities.parent[]").push(new o(t))},i.prototype.addGroupingActivity=function(t){e(this,"context.contextActivities.grouping[]").push(new o(t))},i.prototype.addOtherContextActivity=function(t){e(this,"context.contextActivities.other[]").push(new o(t))};var n=function(t,e){if(this.objectType="Agent",this.name=e,t&&(t.mbox||t.mbox_sha1sum||t.openid||t.account))for(var i in t)this[i]=t[i];else/^mailto:/.test(t)?this.mbox=t:/^[0-9a-f]{40}$/i.test(t)?this.mbox_sha1sum=t:/^http[s]?:/.test(t)?this.openid=t:t&&t.homePage&&t.name&&(this.account=t)};n.prototype.toString=function(){return this.name||this.mbox||this.openid||this.mbox_sha1sum||this.account.name},n.prototype.isValid=function(){return this.mbox||this.mbox_sha1sum||this.openid||this.account.homePage&&this.account.name||"Group"===this.objectType&&this.member};var r=function(t,e,i){n.call(this,t,i),this.member=e,this.objectType="Group"};r.prototype=new n;var a=function(t,e){if(t&&t.id)for(var i in t)this[i]=t[i];else this.id=t,e&&(this.display="string"==typeof e||e instanceof String?{"en-US":e}:e)};a.prototype.toString=function(){return this.display&&(this.display["en-US"]||this.display.en)?this.display["en-US"]||this.display.en:this.id},a.prototype.isValid=function(){return this.id};var o=function(t,e,i){if(t&&t.id){var n=t;for(var r in n)this[r]=n[r]}else this.objectType="Activity",this.id=t,(e||i)&&(this.definition={},"string"==typeof e||e instanceof String?this.definition.name={"en-US":e}:e&&(this.definition.name=e),"string"==typeof i||i instanceof String?this.definition.description={"en-US":i}:i&&(this.definition.description=i))};o.prototype.toString=function(){return this.definition&&this.definition.name&&(this.definition.name["en-US"]||this.definition.name.en)?this.definition.name["en-US"]||this.definition.name.en:this.id},o.prototype.isValid=function(){return this.id&&(!this.objectType||"Activity"===this.objectType)};var s=function(t){if(t&&t.id)for(var e in t)this[e]=t[e];else this.objectType="StatementRef",this.id=t};s.prototype.toString=function(){return"statement("+this.id+")"},s.prototype.isValid=function(){return this.id&&this.objectType&&"StatementRef"===this.objectType};var c=function(t,e,n){i.call(this,t,e,n),this.objectType="SubStatement",delete this.id,delete this.stored,delete this.version,delete this.authority};c.prototype=new i,c.prototype.toString=function(){return'"'+c.prototype.prototype.toString.call(this)+'"'},i.Agent=n,i.Group=r,i.Verb=a,i.Activity=o,i.StatementRef=s,i.SubStatement=c,t.XAPIStatement=i}(window.ADL=window.ADL||{}),function(t){var e=t,i=!1;function n(t){if("SubStatement"===t.objectType&&"SubStatement"!==t.object.objectType&&!(t.id||t.stored||t.version||t.authority))return e.xapiutil.getActorId(t.actor)+":"+e.xapiutil.getVerbDisplay(t.verb)+":"+e.xapiutil.getObjectId(t.object)}"undefined"!=typeof window&&(e=window.ADL=t.ADL||{},i=!0),e.xapiutil={},e.xapiutil.getLang=function(){var t;if("undefined"!=typeof navigator)t=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage;else if("undefined"!=typeof process&&void 0!==process.env&&void 0!==process.env.LANG){var e=process.env.LANG;t=(t=e.slice(0,e.indexOf("."))).replace(/_/,"-")}return t||"en-US"},e.xapiutil.getLangVal=function(t){if(t&&0!=Object.keys(t).length){for(var i,n=e.xapiutil.getLang(),r=!1;t[n]?(i=t[n],r=!0):n.indexOf("-")&&(n=n.substring(0,n.lastIndexOf("-"))),!r&&""!==n;);return i}},e.xapiutil.getMoreStatements=function(t,n,r){if(!i)throw new Error("Node not supported.");var a=[];e.XAPIWrapper.getStatements(r,null,(function i(o){if(o&&o.response){var s=JSON.parse(o.response);s.statements&&(a=a.concat(s.statements),t--<=0?n(a):s.more&&""!==s.more?e.XAPIWrapper.getStatements(r,s.more,i):""===s.more&&n(a))}}))},e.xapiutil.getActorId=function(t){return t.mbox||t.openid||t.mbox_sha1sum||t.account},e.xapiutil.getActorIdString=function(t){return t.mbox||t.openid||t.mbox_sha1sum||(t.account?t.account.homePage+":"+t.account.name:t.member?"Anon Group "+t.member:"unknown")},e.xapiutil.getActorDisplay=function(t){return t.name||e.xapiutil.getActorIdString(t)},e.xapiutil.getVerbDisplay=function(t){if(t)return t.display&&e.xapiutil.getLangVal(t.display)||t.id},e.xapiutil.getObjectType=function(t){return t.objectType||(t.id?"Activity":"Agent")},e.xapiutil.getObjectId=function(t){if(t.id)return t.id;var i=e.xapiutil.getObjectType(t);return"Agent"===i||"Group"===i?e.xapiutil.getActorId(t):void 0},e.xapiutil.getObjectIdString=function(t){if(!t)return"unknown";if(t.id)return t.id;var i=e.xapiutil.getObjectType(t);return"Agent"===i||"Group"===i?e.xapiutil.getActorIdString(t):"SubStatement"==i?n(t):"unknown"},e.xapiutil.getObjectDisplay=function(t){if(!t)return"unknown";var i=function(t){if(t.definition&&t.definition.name)return e.xapiutil.getLangVal(t.definition.name)}(t)||t.name||t.id;if(!i){var r=e.xapiutil.getObjectType(t);"Agent"===r||"Group"==r?i=e.xapiutil.getActorDisplay(t):"SubStatement"==r&&(i=n(t))}return i}}(this),function(){var t=window.ADL=window.ADL||{};function e(t){for(var e=window.location.search.substring(1).split("&"),i=0;i<e.length;i++){var n=e[i].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}}function i(t){var i="xAPILaunchKey="+e("xAPILaunchKey")+"&xAPILaunchService="+e("xAPILaunchService");e("encrypted")&&(i+="&encrypted=true");for(var n=0;n<t.length;n++){var r=t[n],a=r.href,o=r.attributes.getNamedItem("courselink");o&&"true"==o.value&&(a=-1<a.indexOf("?")?a+"&"+i:a+"?"+i,r.href=a)}}t.launch=function n(r,a,o){var s;s=r,r=function(){var t=arguments;window.setTimeout((function(){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);s.apply(window,e)}),0)};try{var c=e("xAPILaunchKey"),l=e("xAPILaunchService");if(e("encrypted"),n.terminate=function(t){var e=new URL(l);e.pathname+="launch/"+c+"/terminate";var i=new XMLHttpRequest;i.withCredentials=!0,i.crossDomain=!0,i.open("POST",e.toString(),!1),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify({code:0,description:t||"User closed content"}))},!c||!l)return r("invalid launch parameters");var p=new URL(l);p.pathname+="launch/"+c;var u=new XMLHttpRequest;u.withCredentials=!0,u.crossDomain=!0,u.onerror=function(t){window.setTimeout((function(){return r(t)}))},u.onload=function(e){if(200!==u.status)return u.onerror(u.responseText);var s=JSON.parse(u.responseText),c=s,l={};l.endpoint=c.endpoint,l.actor=c.actor,l.withCredentials=!0,l.strictCallbacks=o||!1,window.onunload=function(){a&&n.terminate("User closed content")};var p,d=new t.XAPIWrapper.constructor;return d.changeConfig(l),i(document.body.querySelectorAll("a")),p=document.body,new MutationObserver((function(t){t.forEach((function(t){for(var e in t.addedNodes)t.addedNodes.hasOwnProperty(e)&&t.addedNodes[e].constructor==HTMLAnchorElement&&i([t.addedNodes[e]])}))})).observe(p,{attributes:!0,childList:!0,subtree:!0}),r(null,s,d)},u.open("POST",p.toString(),!0),u.send()}catch(p){r(p)}}}();var scv=GetQueryStringValue("sv",document.currentScript.src);
// Check if the method includes is defined
function parseURL(t){var e,i,n,r=String(t).split("?"),a={};if(2===r.length)for(e=r[1].split("&"),n=0;n<e.length;n+=1)2===(i=e[n].split("=")).length&&i[0]&&(a[i[0]]=decodeURIComponent(i[1]));return{path:r[0],params:a}}
// Define function to get parameters from the URL
function getParameterByName(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}String.prototype.includes||(
// Otherwise, define it
String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)});var actor=JSON.parse(getParameterByName("actor")),baseUrl=getParameterByName("base_url"),nonce=getParameterByName("nonce"),email=actor.mbox[0].replace("mailto:",""),postId=getParameterByName("auth").replace("LearnDashId","");// end xapi object
function console_log(arguments){console.log(arguments)}if(
// User defined code goes here
/*******************************************************************************
 **
 ** xapi object to be used in SCORM wrapper
 **
 ** Version 1.1
 **
 ** Converts many SCORM 2004 data model elements to associated xAPI data
 **
 *******************************************************************************/
xapi=function(){var t={statementId:!0,voidedStatementId:!0,verb:!0,object:!0,registration:!0,context:!0,actor:!0,since:!0,until:!0,limit:!0,authoritative:!0,sparse:!0,instructor:!0,ascending:!0,continueToken:!0,agent:!0,activityId:!0,stateId:!0,profileId:!0,activity_platform:!0,grouping:!0,"Accept-Language":!0,endpoint:!0,auth:!0},e={lrs:{endpoint:"https://lrs.adlnet.gov/xapi/",user:"",password:""},courseId:"",lmsHomePage:"",isScorm2004:!0,activityId:"",groupingContextActivity:{}},n={},r=!1,a=function(){return{actor:{objectType:"Agent",mbox:actor.mbox[0].replace("mailto:",""),name:actor.name[0]},verb:{},object:{id:e.activityId,definition:{type:"http://adlnet.gov/expapi/activities/lesson"}},context:{contextActivities:{grouping:[{id:"",objectType:"Activity",definition:{type:"http://adlnet.gov/expapi/activities/attempt"}},{id:e.courseId,objectType:"Activity",definition:{type:"http://adlnet.gov/expapi/activities/course"}}],category:[{id:"https://w3id.org/xapi/scorm"}]}}}}
/*******************************************************************************
	 **
	 ** Interactions base statement
	 **
	 ** Must update object iri, attempt, result and interaction
	 ** type/description to execute
	 **
	 *******************************************************************************/,o=function(){return{actor:{objectType:"Agent",mbox:actor.mbox[0].replace("mailto:",""),name:actor.name[0]}}}
/*******************************************************************************
	 **
	 ** This function is used to initiate an xAPI attempt
	 **
	 *******************************************************************************/,s=function(){var t=ADL.XAPIWrapper.searchParams();t.verb=ADL.verbs.terminated.id,t.activity=window.localStorage[e.activityId],t.related_activities=!0;var i=ADL.XAPIWrapper.getStatements(t);if(1==i.statements.length){
// there is a terminate verb, so must void it and replace with suspended
// Note: if there is length == 0, no issue.
//       if length > 1, things are very messed up. Do nothing.
var n=i.statements[0],r={actor:{objectType:"Agent",mbox:actor.mbox[0].replace("mailto:",""),name:actor.name[0]},verb:{},object:{objectType:"StatementRef",id:""}};
// send the voided statement
r.verb=ADL.verbs.voided,r.object.id=n.id,ADL.XAPIWrapper.sendStatement(r),
// send a suspended statement to replace the (voided) terminated statement
c(n.timestamp)}}
/*******************************************************************************
	 **
	 ** This function is used to resume an attempt
	 **
	 *******************************************************************************/,c=function(t){
//sendSimpleStatement(ADL.verbs.suspended);
var i=a();i.verb=ADL.verbs.suspended,null!=t&&null!=t&&(i.timestamp=t),
// window.localStorage[activity] uses activity id to return the most recent
// attempt
i.context.contextActivities.grouping[0].id=window.localStorage[e.activityId],
// set the context activity from the manifest/launch_data to group together
// for an event
i.context.contextActivities.grouping.push(e.groupingContextActivity);var n=l(i);ADL.XAPIWrapper.sendStatement(n)}
/*******************************************************************************
	 **
	 ** This function is used to terminate an xAPI attempt
	 **
	 *******************************************************************************/,l=function(t){var i=retrieveDataValue(n.successElement),r=retrieveDataValue(n.completionElement),a=retrieveDataValue(n.scoreScaledElement),o=retrieveDataValue(n.scoreRawElement),s=retrieveDataValue(n.scoreMinElement),c=retrieveDataValue(n.scoreMaxElement),l=!1,p={},u=!1,d={};
// create all of the statement json
// set success if known
return"passed"==i?(l=!0,p.success=!0):"failed"==i&&(l=!0,p.success=!1),
// set completion if known
"completed"==r?(l=!0,p.completion=!0):"incomplete"==r&&(l=!0,p.completion=!1),
// set scaled score if set by sco
null!=a&&""!=a&&(u=!0,l=!0,d.scaled=parseFloat(a)),
// set raw score if set by sco
null!=o&&""!=o&&(u=!0,l=!0,d.raw=parseFloat(o),
// if SCORM 1.2, use raw score / 100 for scaled score
e.isScorm2004||(d.scaled=parseFloat(o)/100)),
// set min score if set by sco
null!=s&&""!=s&&(u=!0,l=!0,d.min=parseFloat(s)),
// set max score if set by sco
null!=c&&""!=c&&(u=!0,l=!0,d.max=parseFloat(c)),
// set the score object in with the rest of the result object
u&&(p.score=d),
// add result to the base statement
l&&(t.result=p),t}
/*******************************************************************************
	 **
	 ** This function is used to set agent data based on SCORM learner prefs
	 **
	 ** Deprecated
	 **
	 *******************************************************************************/,p=function(t,i){window.localStorage[e.activityId];var n=o();
// update state
ADL.XAPIWrapper.sendState(e.activityId,n,t,null,i,ADL.XAPIWrapper.hash(i))}
/*******************************************************************************
	 **
	 ** This function is used to set activity state
	 **
	 ** Note: State data about an activity that is different for each user
	 **
	 **       This is used to also update attempt iri array associated with
	 **       the user and activity
	 **
	 *******************************************************************************/,u=function(t,i){
// key for interactions in local storage is scoped to an attempt
var n=window.localStorage[e.activityId]+"_interactions",r=window.localStorage.getItem(n),a=[];
// get the interactions from local storage
if(null!=r)try{a=JSON.parse(r)}catch(t){console.error("Failed to parse cached interactions:",t),
// Handle error or set cachedInteractions to an empty array
a=[]}
// figure out what the set value was in the SCORM call
elementArray=t.split(".");var o=elementArray[2],s=elementArray[3];if("id"==s){
// its a new interaction.  Set it in local storage
var c={index:o,id:i,type:"",learner_response:"",result:"",description:""};null!=a?(
// this is not the first interaction set
a.push(c),
// push to local storage
window.localStorage.setItem(n,JSON.stringify(a))):
// this is the first interaction set
window.localStorage.setItem(n,JSON.stringify([c]))}else if("type"==s){
// find interaction with the same index and set type in JSON array
for(var l=0;l<a.length;l++)if(a[l].index==o){
// found matching index so update this object's type
a[l].type=i,
// update local storage
window.localStorage.setItem(n,JSON.stringify(a));break}}else if("description"==s){
// find interaction with the same index and set type in JSON array
for(l=0;l<a.length;l++)if(a[l].index==o){
// found matching index so update this object's type
a[l].description=i,
// update local storage
window.localStorage.setItem(n,JSON.stringify(a));break}}else if("learner_response"==s||"student_response"==s)
// find interaction with the same index and set type in JSON array
for(l=0;l<a.length;l++)if(a[l].index==o){
// found matching index so update this object's type
a[l].learner_response=i,
// update local storage
window.localStorage.setItem(n,JSON.stringify(a));
// Send xAPI Statement
// Note: this implementation
var p={actor:{objectType:"Agent",mbox:actor.mbox[0].replace("mailto:",""),name:actor.name[0]},verb:ADL.verbs.responded,object:{objectType:"Activity",id:"",definition:{type:"http://adlnet.gov/expapi/activities/cmi.interaction",interactionType:"",correctResponsesPattern:[]}},context:{contextActivities:{parent:[{id:e.activityId,objectType:"Activity",definition:{type:"http://adlnet.gov/expapi/activities/lesson"}}],grouping:[{id:"",objectType:"Activity",definition:{type:"http://adlnet.gov/expapi/activities/attempt"}},{id:e.courseId,objectType:"Activity",definition:{type:"http://adlnet.gov/expapi/activities/course"}}],category:[{id:"https://w3id.org/xapi/scorm"}]}},result:{response:""}};
// get any type specific JSON that an LRS *may* require
switch(p.object.id=d(a[l].id),p.context.contextActivities.grouping[0].id=window.localStorage[e.activityId],
// set the context activity from the manifest/launch_data to group together
// for an event
p.context.contextActivities.grouping.push(e.groupingContextActivity),
// set the learner's response
p.result.response=a[l].learner_response,
// todo: shouldn't assume en-US - implement with default if not specified, or use what was sent
e.isScorm2004&&(p.object.definition.description={"en-US":a[l].description}),
// set the specific interaction type
p.object.definition.interactionType=a[l].type,a[l].type){case"choice":case"sequencing":p.object.definition.choices=[];break;case"likert":p.object.definition.scale=[];break;case"matching":p.object.definition.source=[],p.object.definition.target=[];break;case"performance":p.object.definition.steps=[]}
// todo: make the subelement that you send stmt on configurable
// send statement
ADL.XAPIWrapper.sendStatement(p),
// remove interaction from local storage array so its not processed again
a.splice(l,1)}}
/*******************************************************************************
	 **
	 ** This function is used to get an interaction iri
	 **
	 *******************************************************************************/,d=function(t){return e.activityId+"/interactions/"+encodeURIComponent(t)}
/*******************************************************************************
	 **
	 ** This function is used to set a scaled score
	 **
	 *******************************************************************************/,h=function(t){
// For scorm 1.2, must divide raw by 100
var i=e.isScorm2004?parseFloat(t):parseFloat(t)/100,n=a();n.verb=ADL.verbs.scored,n.context.contextActivities.grouping[0].id=window.localStorage[e.activityId],
// set the context activity from the manifest/launch_data to group together
// for an event
n.context.contextActivities.grouping.push(e.groupingContextActivity),
// todo: add error handling if value is not a valid scaled score
n.result={score:{scaled:i}},ADL.XAPIWrapper.sendStatement(n)}
/*******************************************************************************
	 **
	 ** This function is used to complete an activity
	 **
	 *******************************************************************************/,f=function(t){"completed"==t&&y(ADL.verbs.completed)}
/*******************************************************************************
	 **
	 ** This function is used to set pass/failed on an activity
	 **
	 *******************************************************************************/,g=function(t){
// if SCORM 1.2, these could be complete/incomplete
"passed"!=t&&"failed"!=t||y(ADL.verbs[t])}
/*******************************************************************************
	 **
	 ** This function is used to configure LRS endpoint and other values
	 **
	 *******************************************************************************/,v=function(){var t=scv;
// get configuration information from the LMS
//scormLaunchData = retrieveDataValue("cmi.launch_data");
//scormLaunchDataJSON = JSON.parse(scormLaunchData);
// todo: confirm launch data exists, if not default values
// set local config object with launch data information
e.lrs.endpoint=GetQueryStringValue("endpoint",location.href),e.lrs.auth=GetQueryStringValue("auth",location.href),
//config.lrs.password = scormLaunchDataJSON.lrs.password;
e.courseId=TC_COURSE_ID,e.lmsHomePage=GetQueryStringValue("base_url",location.href),e.isScorm2004="2004"==t,
//config.isScorm2004 = scormLaunchDataJSON.isScorm2004;
e.activityId=TC_COURSE_ID,
//config.groupingContextActivity = scormLaunchDataJSON.groupingContextActivity;
// setup SCORM object based on configuration
n={learnerIdElement:e.isScorm2004?"cmi.learner_id":"cmi.core.student_id",entryElement:1==e.isScorm2004?"cmi.entry":"cmi.core.entry",exitElement:e.isScorm2004?"cmi.exit":"cmi.core.exit",successElement:e.isScorm2004?"cmi.success_status":"cmi.core.lesson_status",completionElement:e.isScorm2004?"cmi.completion_status":"cmi.core.lesson_status",scoreRawElement:e.isScorm2004?"cmi.score.raw":"cmi.core.score.raw",scoreMinElement:e.isScorm2004?"cmi.score.min":"cmi.core.score.min",scoreMaxElement:e.isScorm2004?"cmi.score.max":"cmi.core.score.max",scoreScaledElement:e.isScorm2004?"cmi.score.scaled":"cmi.core.score.raw",languageElement:e.isScorm2004?"cmi.learner_preference.language":"cmi.student_preference.language",audioLevelElement:e.isScorm2004?"cmi.learner_preference.audio_level":"cmi.student_preference.audio",deliverySpeedElement:e.isScorm2004?"cmi.learner_preference.delivery_speed":"cmi.student_preference.speed",audioCaptioningElement:e.isScorm2004?"cmi.learner_preference.audio_captioning":"cmi.student_preference.text",completionThresholdElement:e.isScorm2004?"cmi.completion_threshold":"",launchDataElement:"cmi.launch_data",maxTimeAllowedElement:e.isScorm2004?"cmi.max_time_allowed":"cmi.student_data.max_time_allowed",scaledPassingScoreElement:e.isScorm2004?"cmi.scaled_passing_score":"cmi.student_data.mastery_score",timeLimitActionElement:e.isScorm2004?"cmi.time_limit_action":"cmi.student_data.time_limit_action",locationElement:e.isScorm2004?"cmi.location":"cmi.core.lesson_location",creditElement:e.isScorm2004?"cmi.credit":"cmi.core.credit",modeElement:e.isScorm2004?"cmi.mode":"cmi.core.lesson_mode",suspendDataElement:"cmi.suspend_data",totalTimeElement:e.isScorm2004?"cmi.total_time":"cmi.core.total_time"}}
/*******************************************************************************
	 **
	 ** This function is used to configure LRS endpoint and basic auth values
	 **
	 *******************************************************************************/,m=function(){var n=parseURL(window.location.href).params,r={},a={endpoint:e.lrs.endpoint};for(i in n)n.hasOwnProperty(i)&&(t.hasOwnProperty(i)?delete n[i]:(r=r||{})[i]=n[i]);null!==r&&(a.extended=r),a.allowFail=!1,ADL.XAPIWrapper.changeConfig(a)}
/*******************************************************************************
	 **
	 ** This function is used to get the attempt context activity (grouping) id
	 **
	 *******************************************************************************/,y=function(t){var i=a();i.verb=t,i.context.contextActivities.grouping[0].id=window.localStorage[e.activityId],
// set the context activity from the manifest/launch_data to group together
// for an event
i.context.contextActivities.grouping.push(e.groupingContextActivity),ADL.XAPIWrapper.sendStatement(i)}
/*******************************************************************************
	 **
	 ** This function is used to (most likely) get a unique guid to identify
	 ** an attempt
	 **
	 *******************************************************************************/;return{
//newSetConfig: newSetConfig,
//setConfig:setConfig,
initializeAttempt:function(){
// configure SCORM version and data elements, get launch data from lms, etc
v(),
// configure lrs
m();
// deprecated - set the agent profile information based on LMS learner_prefernces
//setAgentProfile();
// todo: add error handling to SCORM call
// Determine whether this is a new or resumed attempt (based on cmi.entry)
var t="resume"==retrieveDataValue(n.entryElement);
// if "resume", determine if the user issued a suspend sequencing nav
// request and a terminate was called instead of a suspend and if so, fix
t&&s();
// set the attempt context activity based on the SCOs state
//configureAttemptContextActivityID(entry);
// Set activity profile info and attempt state every initialize
// todo: these cause acceptable errors.  ensure they are not written to console
//setActivityProfile();
//setAttemptState();
// Set the appropriate verb based on resumed or new attempt
var e=t?ADL.verbs.resumed:ADL.verbs.attempted;
// Execute the statement
y(e)}
/*******************************************************************************
	 **
	 ** This function looks at the last terminate or statement for a given attempt.
	 ** If "terminated", the terminated stmt is voided and a suspend is issued
	 **
	 *******************************************************************************/,resumeAttempt:function(){y(ADL.verbs.resumed)}
/*******************************************************************************
	 **
	 ** This function is used to suspent an attempt
	 **
	 *******************************************************************************/,suspendAttempt:c,terminateAttempt:function(){
//sendSimpleStatement(ADL.verbs.terminated);
var t=a(),i=r?ADL.verbs.suspended:ADL.verbs.terminated;
// get the exit and use appropriate verb
t.verb=i,
// window.localStorage[activity] uses activity id to return the most recent
// attempt
t.context.contextActivities.grouping[0].id=window.localStorage[e.activityId],
// set the context activity from the manifest/launch_data to group together
// for an event
t.context.contextActivities.grouping.push(e.groupingContextActivity);var n=l(t);ADL.XAPIWrapper.sendStatement(n),window.localStorage.removeItem("learnerId")}
/*******************************************************************************
	 **
	 ** This function is used to complete the stmt result for terminate and suspend
	 **
	 *******************************************************************************/,saveDataValue:function(t,e){if(t.indexOf("cmi.interactions")>-1)u(t,e);else
// Handle only non-array scorm data model elements
switch(t){case n.scoreScaledElement:h(e);break;case n.completionElement:f(e);break;case n.successElement:g(e);break;case n.locationElement:case n.suspendDataElement:p(t,e);break;case n.exitElement:r="suspend"==e}}
/*******************************************************************************
	 **
	 ** This function/vars is used to handle the interaction type
	 **
	 *******************************************************************************/,getSavedData:function(t){
// window.localStorage[activity] uses activity id to return the most recent
// attempt
window.localStorage[e.activityId];var i=o(),n=ADL.XAPIWrapper.getState(e.activityId,i,t);
// First time, create a new one
return null==n?"":n}
/*******************************************************************************
	 **
	 ** This function is used to set attempt (activity) state
	 **
	 ** Note: State data about an activity that is different for each user, for each
	 **       attempt.
	 **
	 *******************************************************************************/,setScore:h,setComplete:f,setSuccess:g,configureLRS:m,getStudent:o}}(),"2004"==scv){var API_1484_11=function(t){var e=!1,i=[],n=0,r=0;return{getCache:function(){return o},Initialize:function(i){return e?"false":(e=!0,"1.2"!=t.scorm_version&&ADL.XAPIWrapper.changeConfig({isScorm2004:!0}),xapi.initializeAttempt(),"true")},GetValue:function(t){return(new Date).toLocaleString(),e?((new Date).toLocaleString(),"cmi.interactions._count"==t?(varvalue_count=parseInt(++n),varvalue='"'+varvalue_count+'"',varvalue_count):"cmi.objectives._count"==t?(varvalue_count=parseInt(++r),varvalue='"'+varvalue_count+'"',varvalue_count):"cmi.learner_id"===t?xapi.getStudent().actor.mbox:"cmi.learner_name"===t?xapi.getStudent().actor.name:"cmi.mode"===t?"normal":"cmi.completion_status"===t?"incomplete":(void 0!==i[t]||"cmi.core.lesson_location"!=t&&"cmi.suspend_data"!=t||(i[t]=xapi.getSavedData(t)),varvalue=void 0===i[t]?"":i[t],varvalue)):"false"},SetValue:function(t,a){return(new Date).toLocaleString(),e?(i["cmi.interactions._count"]=n,i["cmi.objectives._count"]=r,i[t]=a,xapi.saveDataValue(t,a),"true"):"false"},Commit:function(t){return e?"true":"false"},Terminate:function(t){return e?(xapi.terminateAttempt(),"true"):"false"},GetLastError:function(){return 0},GetDiagnostic:function(t){return"diagnostic string"},GetErrorString:function(t){return"error string"}}}(window);initializeCommunication=API_1484_11.Initialize,terminateCommunication=API_1484_11.Terminate,storeDataValue=API_1484_11.SetValue,retrieveDataValue=API_1484_11.GetValue}else{var API=function(){var t=!1,e=[],i=0,n=0;return{getCache:function(){return e},LMSInitialize:function(e){return t?"false":(t=!0,xapi.initializeAttempt(),"true")},LMSGetValue:function(r){return(new Date).toLocaleString(),t?"cmi.interactions._count"==r?(varvalue_count=parseInt(++i),varvalue='"'+varvalue_count+'"',varvalue_count):"cmi.objectives._count"==r?(varvalue_count=parseInt(++n),varvalue='"'+varvalue_count+'"',varvalue_count):"cmi.core.student_id"===r?xapi.getStudent().actor.mbox:"cmi.core.student_name"===r?xapi.getStudent().actor.name:"cmi.core.lesson_mode"===r?"normal":"cmi.core.lesson_status"===r?"incomplete":(void 0!==e[r]||"cmi.core.lesson_location"!=r&&"cmi.suspend_data"!=r||(e[r]=xapi.getSavedData(r)),varvalue=void 0===e[r]?"":e[r],varvalue):"false"},LMSSetValue:function(r,a){return(new Date).toLocaleString(),t?(e["cmi.interactions._count"]=i,e["cmi.objectives._count"]=n,e[r]=a,xapi.saveDataValue(r,a),"true"):"false"},LMSCommit:function(e){return t?"true":"false"},LMSFinish:function(e){return t?(xapi.terminateAttempt(),"true"):"false"},LMSGetLastError:function(){return 0},LMSGetDiagnostic:function(t){return"diagnostic string"},LMSGetErrorString:function(t){return"error string"}}}(window);initializeCommunication=API.LMSInitialize,terminateCommunication=API.LMSFinish,storeDataValue=API.LMSSetValue,retrieveDataValue=API.LMSGetValue}
//# sourceMappingURL=scormdriver-sync.min.js.map