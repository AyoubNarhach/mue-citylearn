{"version":3,"file":"modules.min.js","mappings":"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","sources":["webpack://tin-canny-learndash-reporting-assets/./scripts/modules.js"],"sourcesContent":["/**\n * @package Uncanny TinCan API\n * @author Uncanny Owl\n * @version 1.0.0\n */\n\nvar tincannyModuleController = function() {\n\tvar $this = this;\n\tthis.count = {};\n\tthis.completion = {};\n\tthis.bound = false;\n\tthis.hasCompletionSetting = false;\n\tthis.markCompleteSettings = '';\n\tthis.markCompleteLesson = 0;\n\tthis.markCompleteCourse = 0;\n\tthis.markCompleteLabel  = '';\n\tthis.currentLessonLink  = '';\n\tthis.methodMarkCompleteForTincan  = 'new';\n    $this.iframe_interval = false;\n\n\tvar moduleFunctions = new tincannyModuleFunctions(this);\n\n\tthis.ready = function() {\n\t\tthis.iFrameReady();\n\t\tthis.lightboxReady();\n\t\tthis.newWindowReady();\n\t\tthis.setButton(false);\n\n\t\tmoduleFunctions.checkH5PCompletiton();\n\n\t\tjQuery(document).on('learndash-time-finished','.learndash_mark_complete_button', function(){\n\t\t\tif( moduleController ){\n\t\t        if( moduleController.markCompleteSettings == 'yes' ){\n\t            \tjQuery('.learndash_mark_complete_button').attr('disabled', 'disabled' );\n\t            \tjQuery('.learndash_mark_complete_button').addClass('disabled');\n\t\t        }\n\t\t    }\n\t\t});\n\t};\n\n\tthis.setButton = function(edgeReload) {\n\n\t    // We are setting display none with styles initial in tin-canny-learndash-reporting\\src\\uncanny-articulate-and-captivate\\classes\\Shortcode.php\n        // Lets reinstate display none before we run checks\n        jQuery( 'form[id=sfwd-mark-complete]' ).css( 'display', 'block' );\n        jQuery( '.sfwd-mark-complete' ).css( 'display', 'block' );\n        jQuery( '.tclr-mark-complete-button' ).css( 'display', 'block' ).addClass( 'tclr-mark-complete-button--visible' );\n\n\n\t\t// Check if no button needed\n\t\tif( this.markCompleteSettings === 'remove' || this.markCompleteSettings === 'autoadvance' ){\n            jQuery( 'form[id=sfwd-mark-complete]' ).remove();\n            jQuery( '.sfwd-mark-complete' ).remove();\n            return;\n\t\t}\n\n\t\t// Condition : No Module\n\t\tvar is_empty    = true;\n\t\tvar is_complete = false;\n\n\t\tObject.keys( this.count ).forEach( function( key ) {\n\t\t\tif ( $this.count[ key ] !== undefined )\n\t\t\t\tis_empty = false;\n\t\t});\n\n\t\t// Condition : Any Completion\n\t\tObject.keys( $this.count ).forEach( function( key ) {\n\t\t\tif ( $this.count[ key ] > 0 && Object.keys( $this.completion[ key ] ).length > 0 )\n\t\t\t\tis_complete = true;\n\t\t});\n\n        if ( is_empty ) {\n            // Legacy\n            jQuery( '#sfwd-mark-complete input' ).prop( 'disabled', false );\n            jQuery( '#sfwd-mark-complete input' ).removeClass( 'disabled' );\n\n            // 3.0\n            jQuery( '.sfwd-mark-complete input' ).removeAttr( 'disabled' );\n            jQuery( '.sfwd-mark-complete input' ).removeClass( 'disabled' );\n\n            // Hide option\n            if( this.markCompleteSettings == 'hide' ){\n                jQuery( '.tclr-mark-complete-button' ).css( 'display', 'block' ).addClass( 'tclr-mark-complete-button--visible' );\n            }\n        } else if ( is_complete ) {\n            // Legacy\n            jQuery( '#sfwd-mark-complete input' ).prop( 'disabled', false );\n            jQuery( '#sfwd-mark-complete input' ).removeClass( 'disabled' );\n\n            // 3.0\n            jQuery( '.sfwd-mark-complete input' ).prop( 'disabled', false );\n            jQuery( '.sfwd-mark-complete input' ).removeClass( 'disabled' );\n\n            // Hide option\n            if( this.markCompleteSettings == 'hide' ){\n                jQuery( '.tclr-mark-complete-button' ).css( 'display', 'block' ).addClass( 'tclr-mark-complete-button--visible' );\n            }\n\n\t\t\tif ( undefined != tinCanny ) {\n\t\t\t\ttinCanny.doAction( 'after_tincanny_insert_list' );\n\t\t\t}\n\n        } else {\n\t\t\tif( this.markCompleteSettings == 'no' ){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tjQuery( '.sfwd-mark-complete input' ).prop( 'disabled', true );\n\t\t\tjQuery( '.sfwd-mark-complete input' ).addClass( 'disabled' );\n\n            // Hide option\n            if( this.markCompleteSettings == 'hide' ){\n            \tjQuery( '.tclr-mark-complete-button' ).css( 'display', 'none' ).removeClass( 'tclr-mark-complete-button--visible' );\n\t\t\t}\n        }\n\t};\n\n\tthis.iFrameReady = function() {\n\t\tjQuery('.AnC-iFrame').bind('ready load', function() {\n\t\t\tmoduleFunctions.checkStatues(jQuery(this)[0].contentWindow, 'iFrame');\n\t\t});\n\t};\n\n\tthis.lightboxReady = function() {\n\t\tif (typeof MutationObserver === 'function') {\n\t\t\t// Modern browsers: use MutationObserver\n\t\t\tconst observer = new MutationObserver(() => {\n\t\t\t\tjQuery('.ginner-container iframe.gvideo').bind('load', function() {\n\t\t\t\t\tvar targetURL = jQuery(this)[0].src;\n\n\t\t\t\t\tif (!jQuery(this).attr('data-tcloaded')) {\n\t\t\t\t\t\tmoduleFunctions.checkStatues(jQuery(this)[0].contentWindow, 'lightbox');\n\t\t\t\t\t\tjQuery(this).attr('data-tcloaded', true);\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery(jQuery(this)[0].contentWindow).on( \"unload\", function() {\n\t\t\t\t\t\t$this.checkCompletion(targetURL, 'Authorization=LearnDashIdstateId=');\n\t\t\t\t\t\t/* clearInterval($this.iframe_interval); */\n\t\t\t\t\t});\n\t\t\t\t\t/* $this.iframe_interval = setInterval(function() {\n\t\t\t\t\t  $this.checkCompletion(targetURL, 'Authorization=LearnDashIdstateId=');\n\t\t\t\t\t}, 5000); */\n\t\t\t\t});\n\t\t\t});\n\t\t\tobserver.observe(document.body, {\n\t\t\t\tchildList: true,\n\t\t\t\tsubtree: true,\n\t\t\t});\n\t\t} else {\n\t\t\t// Older browsers: use DOMSubtreeModified\n\t\t\tjQuery('body').bind('DOMSubtreeModified', function() {\n\t\t\t\tjQuery('.ginner-container iframe.gvideo').bind('load', function() {\n\t\t\t\t\tvar targetURL = jQuery(this)[0].src;\n\n\t\t\t\t\tif (!jQuery(this).attr('data-tcloaded')) {\n\t\t\t\t\t\tmoduleFunctions.checkStatues(jQuery(this)[0].contentWindow, 'lightbox');\n\t\t\t\t\t\tjQuery(this).attr('data-tcloaded', true);\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery(jQuery(this)[0].contentWindow).on( \"unload\", function() {\n\t\t\t\t\t\t$this.checkCompletion(targetURL, 'Authorization=LearnDashIdstateId=');\n\t\t\t\t\t\t/* clearInterval($this.iframe_interval); */\n\t\t\t\t\t});\n\t\t\t\t\t/* $this.iframe_interval = setInterval(function() {\n\t\t\t\t\t  $this.checkCompletion(targetURL, 'Authorization=LearnDashIdstateId=');\n\t\t\t\t\t}, 5000); */\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.newWindowReady = function() {\n\t\tvar bindNewWindow = function(targetWin) {\n\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Ready\" ) );\n\t\t\tif ($this.bound)\n\t\t\t\treturn;\n\n\t\t\tif (\n\t\t\t\t!targetWin.document.getElementsByTagName('meta') ||\n\t\t\t\t!targetWin.document.URL ||\n\t\t\t\ttargetWin.document.URL.indexOf('uncanny-snc') == -1\n\t\t\t) {\n\t\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Not Ready\" ) );\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tbindNewWindow(targetWin);\n\t\t\t\t}, 500);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmoduleFunctions.checkStatues( targetWin, 'blank' );\n\t\t};\n\n\t\tjQuery('.AnC-Link').click(function(e) {\n\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Click\" ) );\n\n\t\t\tif (jQuery(this).attr('target') == '_blank' ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tvar url = jQuery(this).attr('href');\n\n\t\t\t\tif (window.popup) {\n\t\t\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Close\" ) );\n\t\t\t\t\twindow.popup.close();\n\t\t\t\t}\n\n\t\t\t\twindow.popup = open(url, 'AnC');\n\t\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Open\" ) );\n\n                jQuery(window.popup.document).ready(function() {\n                    // jQuery( \"body\" ).append( document.createTextNode( \", Doc Ready\" ) );\n                    $this.bound = false;\n                    // Removed immediate call and wait for a redirect completion.\n\t\t\t\t\t// bindNewWindow(window.popup);\n                    setTimeout(function() {\n                        bindNewWindow(window.popup);\n                    }, 5000);\n                });\n\n                /* This will not work in some browsers so removed.\n                window.popup.onbeforeunload = function(e) {\n                    // check condition\n                    setTimeout(function() {\n                        bindNewWindow(window.popup);\n                    }, 5000);\n                    return null;\n                };*/\n\n                window.onbeforeunload = function(e){\n                    if (window.popup) {\n                        window.popup.close();\n                    }\n                };\n\n\t\t\t\tif (\n\t\t\t\t\twindow.navigator.userAgent.indexOf(\"Edge\") >= 0 ||\n\t\t\t\t\twindow.navigator.userAgent.indexOf(\"MSIE\") >= 0 ||\n\t\t\t\t\twindow.navigator.userAgent.indexOf(\"Trident\") >= 0\n\t\t\t\t) {\n\t\t\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Hello\" ) );\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\twindow.popup.onbeforeunload = function() {\n\t\t\t\t\t\t\t// jQuery( \"body\" ).append( document.createTextNode( \", Bye\" ) );\n\t\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t\t};\n\t\t\t\t\t}, 1500);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tthis.replaceRequest = function( targetWin, targetURL, contentType ) {\n\n\t\tif( this.methodMarkCompleteForTincan == 'old' ) {\n            targetWin.XMLHttpRequest.prototype.oldSend = targetWin.XMLHttpRequest.prototype.send;\n\n            var legacyXHRSend = function( statement ) {\n                this.oldSend(statement);\n\n                try {\n                    $this.checkCompletion(targetURL, statement);\n                } catch(err) {\n\t\t\t\t\tconsole.log(\"checkCompletion legacyXHRSend:: \" + err);\n\t\t\t\t}\n            };\n\n            targetWin.XMLHttpRequest.prototype.send = legacyXHRSend;\n\t\t} else {\n\n            targetWin.XMLHttpRequest.prototype.oldSend = targetWin.XMLHttpRequest.prototype.send;\n\n            var modernXHRSend = function (statement) {\n                this.oldSend(statement);\n\n                try {\n\n                    //$this.checkCompletion(targetURL, statement);\n                    var oldOnReadyStateChange = this.onreadystatechange;\n                    var self = this;\n\n                    function onReadyStateChange() {\n\n                        // however run actual callback first.\n                        if (oldOnReadyStateChange) {\n                            oldOnReadyStateChange();\n                        }\n                        // Now check if its a completed call\n                        if (self.readyState == 4) {\n                            // Check if this is a statement call\n                            var contentType = moduleFunctions.getContentType(targetURL);\n                            var stop = true;\n                            var regEx = /\\/uncanny-snc\\/([0-9]+)\\//;\n                            var idResult = regEx.exec(targetURL);\n                            var id = parseInt(idResult[1]);\n                            // if response is not what we expected on completion\n                            // for this I am changing in recording statement function\n\n                            if (!self.response) {\n                                return false;\n                            }\n                            if (self.response.toString().indexOf('completion_matched') == -1 && self.response.toString().indexOf('189c3d30-COMP-491a-85ab-1f00c84e651f') == -1) {\n                                return false;\n                            }\n\n                            if (statement.indexOf('Authorization=LearnDashId') >= -1 && statement.indexOf('stateId=') >= -1) {\n                                stop = false;\n                            } else {\n                                var json = JSON.parse(statement);\n\n                                if (typeof json === 'object')\n                                    stop = false;\n                            }\n\n                            if ($this.completion[contentType][id])\n                                stop = true;\n\n                            if (stop)\n                                return;\n\n                            if ($this.markCompleteSettings === 'autoadvance') {\n                                response = JSON.parse(self.response);\n                                if (typeof response.redirect_to !== 'undefined')\n                                    window.location.href = response.redirect_to;\n                                else\n                                    window.location.reload();\n                            }\n                            $this.markComplete(contentType, targetURL);\n                        }\n                    }\n\n                    if (!this.noIntercept) {\n                        if (this.addEventListener) {\n                            oldOnReadyStateChange = null;\n                            this.addEventListener(\"readystatechange\", onReadyStateChange, false);\n                        } else {\n                            oldOnReadyStateChange = this.onreadystatechange;\n                            this.onreadystatechange = onReadyStateChange;\n                        }\n\n                    }\n\n                } catch (err) {\n\t\t\t\t\tconsole.log(\"checkCompletion modernXHRSend:: \" + err);\n                }\n            };\n\n            targetWin.XMLHttpRequest.prototype.send = modernXHRSend;\n        }\n\t};\n\n\tthis.checkCompletion = function (targetURL, statement) {\n\t\tvar contentType = moduleFunctions.getContentType(targetURL);\n\t\tvar stop = true;\n\t\tvar regEx = /\\/uncanny-snc\\/([0-9]+)\\//;\n\t\tvar idResult = regEx.exec(targetURL);\n\t\tvar id = parseInt(idResult[1]);\n\n\n\t\tif (statement.indexOf('Authorization=LearnDashId') >= -1 && statement.indexOf('stateId=') >= -1) {\n\t\t\tstop = false;\n\t\t} else {\n\t\t\tvar json = JSON.parse(statement);\n\n\t\t\tif (typeof json === 'object')\n\t\t\t\tstop = false;\n\t\t}\n\n\t\tif ($this.completion[contentType][id])\n\t\t\tstop = true;\n\n\t\tif (stop)\n\t\t\treturn;\n\n\t\tvar data = {\n\t\t\t'action': 'Check ' + contentType + ' Completion',\n\t\t\t'URL': targetURL,\n            'course_id': this.markCompleteCourse,\n            'lesson_id': this.markCompleteLesson,\n            'setting_option': this.markCompleteSettings,\n            'lesson_link': this.currentLessonLink,\n            'contentType': contentType\n\t\t};\n\n\t\t// Check Completion\n\t\tjQuery.post( wp_ajax_url, data, function( response ) {\n\t\t\tif ( response ) {\n                if ( $this.markCompleteSettings === 'autoadvance') {\n                    response = JSON.parse(response);\n                \twindow.location.href = response.redirect_to;\n\t\t\t\t}\n\t\t\t\t$this.markComplete( contentType, targetURL );\n\t\t\t}\n\t\t});\n\t};\n\n\tthis.markComplete = function( contentType, targetURL ) {\n\t\tvar patternModuleId = /uncanny-snc\\/([0-9]+)\\//i;\n\t\tvar resultModuleId = patternModuleId.exec(targetURL);\n\n\t\tif ( resultModuleId[1] ) {\n\t\t\tthis.completion[ contentType ][ resultModuleId[1] ] = true;\n\t\t\tthis.setButton(true);\n            $this.markCompleted( contentType );\n\t\t}\n\t};\n\n    this.markCompleted = function (contentType) {\n        if ( this.markCompleteSettings === 'remove' || this.markCompleteSettings === 'autoadvance') {\n            var data = {\n                'action': 'uncanny-snc-mark-completed',\n                'course_id': this.markCompleteCourse,\n                'lesson_id': this.markCompleteLesson,\n                'setting_option': this.markCompleteSettings,\n\t\t\t\t'lesson_link': this.currentLessonLink,\n                'contentType': contentType\n            };\n\n            // Check Completion\n            jQuery.post(wp_ajax_url, data, function (response) {\n                if (response) {\n                \tif( typeof( response.redirect_to ) !== 'undefined' ) {\n                \t\twindow.location.href = response.redirect_to;\n                \t}\n                }\n            }, 'json' );\n        }\n    };\n};\n\nvar tincannyModuleFunctions = function(moduleController) {\n\tvar $this = this;\n\tvar captivateFunctions = new tincannyCaptivateFunctions();\n\tvar storylineFunctions = new tincannyStorylineFunctions(moduleController);\n\n\tthis.checkStatues = function( targetWin, openMethod ) {\n\t\tvar targetURL = targetWin.document.URL;\n\t\tvar contentsType = this.getContentType(targetURL);\n\n\t\t// Captivate\n\t\tif ( contentsType === 'Captivate' ) {\n\t\t\tthis.processCaptivate( targetWin, targetURL, openMethod );\n\t\t\treturn;\n\n\t\t// iSpring\n\t\t} else if ( contentsType === 'iSpring' ) {\n\t\t\tmoduleController.replaceRequest( targetWin, targetURL, 'iSpring' );\n\t\t\treturn;\n\n\t\t// Articulate Rise\n\t\t} else if ( contentsType === 'ArticulateRise' ) {\n\t\t\tmoduleController.replaceRequest( targetWin, targetURL, 'ArticulateRise' );\n\t\t\treturn;\n            /* add Presenter360 tin can format */\n        } else if ( contentsType === 'Presenter360' ) {\n            moduleController.replaceRequest( targetWin, targetURL, 'Presenter360' );\n            return;\n            /* END Presenter360 */\n            /* add Lectora tin can format */\n\t\t} else if ( contentsType === 'Lectora' ) {\n            moduleController.replaceRequest( targetWin, targetURL, 'Lectora' );\n            return;\n            /* END Lectora */\n\t\t} else if ( contentsType === 'Scorm' ) {\n\t\t\tmoduleController.replaceRequest( targetWin, targetURL, 'Scorm' );\n\t\t\treturn;\n\t\t\t/* END Scorm */\n\t\t} else if ( contentsType === 'Tincan' ) {\n\t\t\tmoduleController.replaceRequest( targetWin, targetURL, 'Tincan' );\n\t\t\treturn;\n\t\t\t/* END Scorm */\n\t\t}\n\n\t\t// Storyline : Replace Function\n\t\tif ( targetWin.OnSendComplete ) {\n\t\t\ttargetWin.OnSendComplete = function( commObj ) {\n\t\t\t\tstorylineFunctions.OnSendComplete(targetWin, commObj);\n\t\t\t};\n\n\t\t} else {\n\t\t\tmoduleController.replaceRequest(targetWin, targetURL, 'Storyline');\n\t\t}\n\t};\n\n\tthis.getContentType = function(targetURL) {\n\t\tif ( targetURL.indexOf('Captivate') >= 0 ) {\n\t\t\treturn 'Captivate';\n\t\t} else if ( targetURL.indexOf('/res/') >= 0 ) {\n\t\t\treturn 'iSpring';\n\t\t} else if ( targetURL.indexOf('ArticulateRise') >= 0 ) {\n\t\t\treturn 'ArticulateRise';\n\t\t} else if ( targetURL.indexOf('ArticulateRise2017') >= 0 || targetURL.indexOf('AR2017') >= 0 ) {\n\t\t\treturn 'ArticulateRise2017';\n            /* add Presenter360 tin can format */\n        } else if ( targetURL.indexOf('Presenter360') >= 0 ) {\n            return 'Presenter360';\n            /* END Presenter360 */\n\t\t\t/* add Lectora tin can format */\n    \t} else if ( targetURL.indexOf('Lectora') >= 0 ) {\n        \treturn 'Lectora';\n        \t/* END Lectora */\n\t\t} else if ( targetURL.indexOf('Scorm') >= 0 ) {\n\t\t\treturn 'Scorm';\n\t\t\t/* END Scorm */\n\t\t} else if ( targetURL.indexOf('Tincan') >= 0 ) {\n\t\t\treturn 'Tincan';\n\t\t\t/* END Scorm */\n\t\t}\n\n\t\treturn 'Storyline';\n\t};\n\n\tthis.processCaptivate = function( targetWin, targetURL, openMethod ) {\n\t\tvar frame;\n\n\t\tif ( targetURL.indexOf('multiscreen.html') >= 0 ) {\n\t\t\tframe = jQuery(targetWin.document)[0].getElementsByTagName('frame')[0];\n\n\t\t\tif ( frame.contentWindow.DoCPExit ) {\n\t\t\t\tmoduleController.replaceRequest( frame.contentWindow, targetURL, 'Captivate' );\n\n\t\t\t\tframe.contentWindow.DoCPExit = function() {\n\t\t\t\t\tcaptivateFunctions.DoCPExit( window, openMethod );\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tjQuery(frame).on( 'load ready', function() {\n\t\t\t\tmoduleController.replaceRequest( jQuery(this)[0].contentWindow, targetURL, 'Captivate' );\n\n\t\t\t\tjQuery(this)[0].contentWindow.DoCPExit = function() {\n\t\t\t\t\tcaptivateFunctions.DoCPExit( window, openMethod );\n\t\t\t\t};\n\t\t\t});\n\n\t\t// Captivate Normal : index_TINCAN.html\n\t\t} else if ( targetURL.indexOf('index_TINCAN.html') >= 0 ) {\n\t\t\tmoduleController.replaceRequest( targetWin, targetURL, 'Captivate' );\n\n\t\t\ttargetWin.initializeCP = function() {\n\t\t\t\tcaptivateFunctions.initializeCP( window, targetWin );\n\t\t\t};\n\n\t\t// Captivate From SCORM\n\t\t} else {\n\t\t\tframe = jQuery( targetWin );\n\n\t\t\tjQuery(frame).ready( function() {\n\t\t\t\tmoduleController.replaceRequest( targetWin, targetURL, 'Captivate' );\n\n\t\t\t\ttargetWin.DoCPExit = function() {\n\t\t\t\t\tcaptivateFunctions.DoCPExit( window, openMethod );\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.checkH5PCompletiton = function() {\n\t\tif (!moduleController || !moduleController.count || moduleController.count.H5P <= 0)\n\t\t\treturn;\n\n\t\t// Detect Ajax Completion\n\t\tjQuery(document).ajaxComplete(function( event, xhr, settings ) {\n\t\t\t// Detect H5P xAPI\n\t\t\tif (settings.url === WP_H5P_XAPI_STATEMENT_URL) {\n\t\t\t\t// Get Verb\n\t\t\t\tvar verb = settings.data.match(/http%3A%2F%2Fadlnet.gov%2Fexpapi%2Fverbs%2F([a-z]+)/);\n\n\t\t\t\teval(unescape(settings.data));\n\t\t\t\tvar id = statement.object.definition.extensions['http://h5p.org/x-api/h5p-local-content-id'];\n\n\t\t\t\tif (!moduleController.hasCompletionSetting) {\n\t\t\t\t\tmoduleController.completion.H5P[ id ] = true;\n\t\t\t\t\tmoduleController.setButton(true);\n                    moduleController.markCompleted( 'H5P' );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( xhr.responseJSON.message == 'true' ) {\n\t\t\t\t\tmoduleController.completion.H5P[ id ] = true;\n\t\t\t\t\tmoduleController.setButton(true);\n                    moduleController.markCompleted( 'H5P' );\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n};\n\nvar tincannyCaptivateFunctions = function() {\n\tvar $this = this;\n\n\tthis.initializeCP = function( win, targetWin ) {\n\t\tif( targetWin.initialized )\n\t\t\treturn;\n\n\t\ttargetWin.initCalled = true ;\n\n\t\tif( targetWin.cp && targetWin.cp.pg && targetWin.deviceReady === false)\n\t\t\treturn;\n\n\t\ttargetWin.cpInit = function() {\n\t\t\ttargetWin.document.body.innerHTML = \" <div class='cpMainContainer' id='cpDocument' style='left: 0px; top:0px;' >\t<div id='main_container' style='top:0px;position:absolute;width:100%;height:100%;'>\t<div id='projectBorder' style='top:0px;left:0px;width:100%;height:100%;position:absolute;display:block'></div>\t<div class='shadow' id='project_container' style='left: 0px; top:0px;width:100%;height:100%;position:absolute;overflow:hidden;' >\t<div id='project' class='cp-movie' style='width:100% ;height:100%;overflow:hidden;'>\t\t<div id='project_main' class='cp-timeline cp-main'>\t\t\t<div id='div_Slide' onclick='cp.handleClick(event)' style='top:0px; width:100% ;height:100% ;position:absolute;-webkit-tap-highlight-color: rgba(0,0,0,0);'></div>\t\t\t<canvas id='slide_transition_canvas'></canvas>\t\t</div>\t\t<div id='autoplayDiv' style='display:block;text-align:center;position:absolute;left:0px;top:0px;'>\t\t\t<img id='autoplayImage' src='' style='position:absolute;display:block;vertical-align:middle;'/>\t\t\t<div id='playImage' tabindex='9999' role='button' aria-label='play' onkeydown='cp.CPPlayButtonHandle(event)' onClick='cp.movie.play()' style='position:absolute;display:block;vertical-align:middle;'></div>\t\t</div>\t</div>\t<div id='toc' style='left:0px;position:absolute;-webkit-tap-highlight-color: rgba(0,0,0,0);'>\t</div>\t<div id='playbar' style='bottom:0px; position:fixed'>\t</div>\t<div id='cc' style='left:0px; position:fixed;visibility:hidden;pointer-events:none;' onclick='cp.handleCCClick(event)'>\t\t<div id='ccText' style='left:0px;float:left;position:absolute;width:100%;height:100%;'>\t\t<p style='margin-left:8px;margin-right:8px;margin-top:2px;'>\t\t</p>\t\t</div>\t\t<div id='ccClose' style='background-image:url(./assets/htmlimages/ccClose.png);right:10px; position:absolute;cursor:pointer;width:13px;height:11px;' onclick='cp.showHideCC()'>\t\t</div>\t</div>\t<div id='gestureIcon' class='gestureIcon'>\t</div>\t<div id='gestureHint' class='gestureHintDiv'>\t\t<div id='gImage' class='gesturesHint'></div>\t</div>\t<div id='pwdv' style='display:block;text-align:center;position:absolute;width:100%;height:100%;left:0px;top:0px'></div>\t<div id='exdv' style='display:block;text-align:center;position:absolute;width:100%;height:100%;left:0px;top:0px'></div>\t</div>\t</div></div><div id='blockUserInteraction' class='blocker' style='width:100%;height:100%;'>\t<table style='width:100%;height:100%;text-align:center;vertical-align:middle' id='loading' class='loadingBackground'>\t\t<tr style='width:100%;height:100%;text-align:center;vertical-align:middle'>\t\t\t<td style='width:100%;height:100%;text-align:center;vertical-align:middle'>\t\t\t\t<image id='preloaderImage'></image>\t\t\t\t<div id='loadingString' class='loadingString'>Loading...</div>\t\t\t</td>\t\t</tr>\t</table></div> <div id='initialLoading'></div>\";\n\n\t\t\ttargetWin.cp.DoCPInit();\n\t\t\ttargetWin.lCpExit = targetWin.DoCPExit;\n\n\t\t\ttargetWinDoCPExit = function() {\n\t\t\t\tif ( openMethod == 'iFrame' )\n\t\t\t\t\treturn;\n\n\t\t\t\tif ( openMethod == 'lightbox' ) {\n\t\t\t\t\t$this.closeOverlay( win );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif( targetWin.cp.UnloadActivties)\n\t\t\t\t\ttargetWin.cp.UnloadActivties();\n\n\t\t\t\ttargetWin.lCpExit();\n\t\t\t};\n\t\t};\n\n\t\ttargetWin.cpInit();\n\t\ttargetWin.initialized = true;\n\t};\n\n\tthis.DoCPExit = function( win, openMethod ) {\n\t\tif ( openMethod == 'iFrame' )\n\t\t\treturn;\n\n\t\tvar win_;\n\n\t\tif( win != win.parent && win.parent && win.parent.DoCPExit !== undefined ) {\n\t\t\twin.parent.DoCPExit();\n\n\t\t} else {\n\t\t\tif( win.top == self ) {\n\t\t\t\twin_ = win.open(\"\",\"_self\");\n\t\t\t\t$this.closeWindow( win_, openMethod );\n\n\t\t\t} else {\n\t\t\t\twin_ = win.top.open(\"\",\"_self\");\n\t\t\t\t$this.closeWindow( win_.top, openMethod );\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.closeWindow = function( win, openMethod ) {\n\t\tif ( openMethod == 'lightbox' ) {\n\t\t\t$this.closeOverlay( win );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( window.popup )\n\t\t\twindow.popup.close();\n\t\telse\n\t\t\twin.close();\n\t};\n\n\tthis.closeOverlay = function( win ) {\n\t\tvar elements = win.document.getElementsByClassName(\"goverlay\");\n\t\twhile(elements.length > 0){\n\t\t\telements[0].parentNode.removeChild(elements[0]);\n\t\t}\n\t};\n};\n\nvar tincannyStorylineFunctions = function(moduleController) {\n\tthis.OnSendComplete = function(targetWin, commObj) {\n\t\tif (commObj.MessageType == targetWin.TYPE_RESUME_RESTORE) {\n\t\t\ttargetWin.GetPlayer().SetTinCanResume(commObj.responseText);\n\t\t}\n\n\t\ttargetWin.g_bWaitingTinCanResponse = false;\n\t\ttargetWin.g_oCurrentRequest = null;\n\n\t\tif ( targetWin.g_arrTinCanMsgQueue.length > 0 && !targetWin.g_bStopPosting ) {\n\t\t\tvar test = targetWin.SendRequest(targetWin.g_arrTinCanMsgQueue.shift());\n\t\t}\n\n\t\tmoduleController.checkCompletion(jQuery(targetWin.document).context.URL, commObj.responseText);\n\t};\n};\n\nvar moduleController = new tincannyModuleController();\nwindow.moduleController = moduleController;\n\n/*\njQuery(document).ready(function() {\n\t// jQuery( \"body\" ).append( document.createTextNode( \"Global Ready\" ) );\n\n});\n*/"],"names":["tincannyModuleController","$this","this","count","completion","bound","hasCompletionSetting","markCompleteSettings","markCompleteLesson","markCompleteCourse","markCompleteLabel","currentLessonLink","methodMarkCompleteForTincan","iframe_interval","moduleFunctions","tincannyModuleFunctions","ready","iFrameReady","lightboxReady","newWindowReady","setButton","checkH5PCompletiton","jQuery","document","on","moduleController","attr","addClass","edgeReload","css","remove","is_empty","is_complete","Object","keys","forEach","key","undefined","length","prop","removeClass","removeAttr","tinCanny","doAction","bind","checkStatues","contentWindow","MutationObserver","targetURL","src","checkCompletion","observe","body","childList","subtree","bindNewWindow","targetWin","getElementsByTagName","URL","indexOf","setTimeout","click","e","preventDefault","url","window","popup","close","open","onbeforeunload","navigator","userAgent","location","reload","replaceRequest","contentType","XMLHttpRequest","prototype","oldSend","send","statement","err","console","log","onReadyStateChange","oldOnReadyStateChange","self","readyState","getContentType","stop","idResult","exec","id","parseInt","response","toString","_typeof","JSON","parse","redirect_to","href","markComplete","onreadystatechange","noIntercept","addEventListener","data","post","wp_ajax_url","resultModuleId","markCompleted","captivateFunctions","tincannyCaptivateFunctions","storylineFunctions","tincannyStorylineFunctions","openMethod","contentsType","OnSendComplete","commObj","processCaptivate","frame","DoCPExit","initializeCP","H5P","ajaxComplete","event","xhr","settings","WP_H5P_XAPI_STATEMENT_URL","verb","match","eval","unescape","object","definition","extensions","responseJSON","message","win","initialized","initCalled","cp","pg","deviceReady","cpInit","innerHTML","DoCPInit","lCpExit","targetWinDoCPExit","UnloadActivties","closeOverlay","win_","parent","top","closeWindow","elements","getElementsByClassName","parentNode","removeChild","MessageType","TYPE_RESUME_RESTORE","GetPlayer","SetTinCanResume","responseText","g_bWaitingTinCanResponse","g_oCurrentRequest","g_arrTinCanMsgQueue","g_bStopPosting","SendRequest","shift","context"],"sourceRoot":""}