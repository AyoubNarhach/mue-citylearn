/******/(function(){// webpackBootstrap
var __webpack_exports__={};function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)
/**
 * @package Uncanny TinCan API
 * @author Uncanny Owl
 * @version 1.0.0
 */}var tincannyModuleController=function(){var e=this;this.count={},this.completion={},this.bound=!1,this.hasCompletionSetting=!1,this.markCompleteSettings="",this.markCompleteLesson=0,this.markCompleteCourse=0,this.markCompleteLabel="",this.currentLessonLink="",this.methodMarkCompleteForTincan="new",e.iframe_interval=!1;var t=new tincannyModuleFunctions(this);this.ready=function(){this.iFrameReady(),this.lightboxReady(),this.newWindowReady(),this.setButton(!1),t.checkH5PCompletiton(),jQuery(document).on("learndash-time-finished",".learndash_mark_complete_button",(function(){moduleController&&"yes"==moduleController.markCompleteSettings&&(jQuery(".learndash_mark_complete_button").attr("disabled","disabled"),jQuery(".learndash_mark_complete_button").addClass("disabled"))}))},this.setButton=function(t){
// Check if no button needed
if(
// We are setting display none with styles initial in tin-canny-learndash-reporting\src\uncanny-articulate-and-captivate\classes\Shortcode.php
// Lets reinstate display none before we run checks
jQuery("form[id=sfwd-mark-complete]").css("display","block"),jQuery(".sfwd-mark-complete").css("display","block"),jQuery(".tclr-mark-complete-button").css("display","block").addClass("tclr-mark-complete-button--visible"),"remove"===this.markCompleteSettings||"autoadvance"===this.markCompleteSettings)return jQuery("form[id=sfwd-mark-complete]").remove(),void jQuery(".sfwd-mark-complete").remove();
// Condition : No Module
var o=!0,i=!1;if(Object.keys(this.count).forEach((function(t){void 0!==e.count[t]&&(o=!1)})),
// Condition : Any Completion
Object.keys(e.count).forEach((function(t){e.count[t]>0&&Object.keys(e.completion[t]).length>0&&(i=!0)})),o)
// Legacy
jQuery("#sfwd-mark-complete input").prop("disabled",!1),jQuery("#sfwd-mark-complete input").removeClass("disabled"),
// 3.0
jQuery(".sfwd-mark-complete input").removeAttr("disabled"),jQuery(".sfwd-mark-complete input").removeClass("disabled"),
// Hide option
"hide"==this.markCompleteSettings&&jQuery(".tclr-mark-complete-button").css("display","block").addClass("tclr-mark-complete-button--visible");else if(i)
// Legacy
jQuery("#sfwd-mark-complete input").prop("disabled",!1),jQuery("#sfwd-mark-complete input").removeClass("disabled"),
// 3.0
jQuery(".sfwd-mark-complete input").prop("disabled",!1),jQuery(".sfwd-mark-complete input").removeClass("disabled"),
// Hide option
"hide"==this.markCompleteSettings&&jQuery(".tclr-mark-complete-button").css("display","block").addClass("tclr-mark-complete-button--visible"),null!=tinCanny&&tinCanny.doAction("after_tincanny_insert_list");else{if("no"==this.markCompleteSettings)return;jQuery(".sfwd-mark-complete input").prop("disabled",!0),jQuery(".sfwd-mark-complete input").addClass("disabled"),
// Hide option
"hide"==this.markCompleteSettings&&jQuery(".tclr-mark-complete-button").css("display","none").removeClass("tclr-mark-complete-button--visible")}},this.iFrameReady=function(){jQuery(".AnC-iFrame").bind("ready load",(function(){t.checkStatues(jQuery(this)[0].contentWindow,"iFrame")}))},this.lightboxReady=function(){"function"==typeof MutationObserver?new MutationObserver((function(){jQuery(".ginner-container iframe.gvideo").bind("load",(function(){var o=jQuery(this)[0].src;jQuery(this).attr("data-tcloaded")||(t.checkStatues(jQuery(this)[0].contentWindow,"lightbox"),jQuery(this).attr("data-tcloaded",!0)),jQuery(jQuery(this)[0].contentWindow).on("unload",(function(){e.checkCompletion(o,"Authorization=LearnDashIdstateId=");
/* clearInterval($this.iframe_interval); */}))}))})).observe(document.body,{childList:!0,subtree:!0}):
// Older browsers: use DOMSubtreeModified
jQuery("body").bind("DOMSubtreeModified",(function(){jQuery(".ginner-container iframe.gvideo").bind("load",(function(){var o=jQuery(this)[0].src;jQuery(this).attr("data-tcloaded")||(t.checkStatues(jQuery(this)[0].contentWindow,"lightbox"),jQuery(this).attr("data-tcloaded",!0)),jQuery(jQuery(this)[0].contentWindow).on("unload",(function(){e.checkCompletion(o,"Authorization=LearnDashIdstateId=");
/* clearInterval($this.iframe_interval); */}))}))}))},this.newWindowReady=function(){var o=function(i){
// jQuery( "body" ).append( document.createTextNode( ", Ready" ) );
e.bound||(i.document.getElementsByTagName("meta")&&i.document.URL&&-1!=i.document.URL.indexOf("uncanny-snc")?t.checkStatues(i,"blank"):
// jQuery( "body" ).append( document.createTextNode( ", Not Ready" ) );
setTimeout((function(){o(i)}),500))};jQuery(".AnC-Link").click((function(t){
// jQuery( "body" ).append( document.createTextNode( ", Click" ) );
if("_blank"==jQuery(this).attr("target")){t.preventDefault();var i=jQuery(this).attr("href");window.popup&&
// jQuery( "body" ).append( document.createTextNode( ", Close" ) );
window.popup.close(),window.popup=open(i,"AnC"),
// jQuery( "body" ).append( document.createTextNode( ", Open" ) );
jQuery(window.popup.document).ready((function(){
// jQuery( "body" ).append( document.createTextNode( ", Doc Ready" ) );
e.bound=!1,
// Removed immediate call and wait for a redirect completion.
// bindNewWindow(window.popup);
setTimeout((function(){o(window.popup)}),5e3)})),
/* This will not work in some browsers so removed.
        window.popup.onbeforeunload = function(e) {
            // check condition
            setTimeout(function() {
                bindNewWindow(window.popup);
            }, 5000);
            return null;
        };*/
window.onbeforeunload=function(e){window.popup&&window.popup.close()},(window.navigator.userAgent.indexOf("Edge")>=0||window.navigator.userAgent.indexOf("MSIE")>=0||window.navigator.userAgent.indexOf("Trident")>=0)&&
// jQuery( "body" ).append( document.createTextNode( ", Hello" ) );
setTimeout((function(){window.popup.onbeforeunload=function(){
// jQuery( "body" ).append( document.createTextNode( ", Bye" ) );
location.reload()}}),1500)}}))},this.replaceRequest=function(o,i,n){if("old"==this.methodMarkCompleteForTincan){o.XMLHttpRequest.prototype.oldSend=o.XMLHttpRequest.prototype.send;o.XMLHttpRequest.prototype.send=function(t){this.oldSend(t);try{e.checkCompletion(i,t)}catch(e){console.log("checkCompletion legacyXHRSend:: "+e)}}}else{o.XMLHttpRequest.prototype.oldSend=o.XMLHttpRequest.prototype.send;o.XMLHttpRequest.prototype.send=function(o){this.oldSend(o);try{var n=function(){
// Now check if its a completed call
if(
// however run actual callback first.
r&&r(),4==a.readyState){
// Check if this is a statement call
var n=t.getContentType(i),l=!0,s=/\/uncanny-snc\/([0-9]+)\//.exec(i),d=parseInt(s[1]);
// if response is not what we expected on completion
// for this I am changing in recording statement function
if(!a.response)return!1;if(-1==a.response.toString().indexOf("completion_matched")&&-1==a.response.toString().indexOf("189c3d30-COMP-491a-85ab-1f00c84e651f"))return!1;if(o.indexOf("Authorization=LearnDashId")>=-1&&o.indexOf("stateId=")>=-1)l=!1;else"object"===_typeof(JSON.parse(o))&&(l=!1);if(e.completion[n][d]&&(l=!0),l)return;"autoadvance"===e.markCompleteSettings&&(response=JSON.parse(a.response),void 0!==response.redirect_to?window.location.href=response.redirect_to:window.location.reload()),e.markComplete(n,i)}},r=this.onreadystatechange,a=this;
//$this.checkCompletion(targetURL, statement);
this.noIntercept||(this.addEventListener?(r=null,this.addEventListener("readystatechange",n,!1)):(r=this.onreadystatechange,this.onreadystatechange=n))}catch(e){console.log("checkCompletion modernXHRSend:: "+e)}}}},this.checkCompletion=function(o,i){var n=t.getContentType(o),r=!0,a=/\/uncanny-snc\/([0-9]+)\//.exec(o),l=parseInt(a[1]);i.indexOf("Authorization=LearnDashId")>=-1&&i.indexOf("stateId=")>=-1?r=!1:"object"===_typeof(JSON.parse(i))&&(r=!1);if(e.completion[n][l]&&(r=!0),!r){var s={action:"Check "+n+" Completion",URL:o,course_id:this.markCompleteCourse,lesson_id:this.markCompleteLesson,setting_option:this.markCompleteSettings,lesson_link:this.currentLessonLink,contentType:n};
// Check Completion
jQuery.post(wp_ajax_url,s,(function(t){t&&("autoadvance"===e.markCompleteSettings&&(t=JSON.parse(t),window.location.href=t.redirect_to),e.markComplete(n,o))}))}},this.markComplete=function(t,o){var i=/uncanny-snc\/([0-9]+)\//i.exec(o);i[1]&&(this.completion[t][i[1]]=!0,this.setButton(!0),e.markCompleted(t))},this.markCompleted=function(e){if("remove"===this.markCompleteSettings||"autoadvance"===this.markCompleteSettings){var t={action:"uncanny-snc-mark-completed",course_id:this.markCompleteCourse,lesson_id:this.markCompleteLesson,setting_option:this.markCompleteSettings,lesson_link:this.currentLessonLink,contentType:e};
// Check Completion
jQuery.post(wp_ajax_url,t,(function(e){e&&void 0!==e.redirect_to&&(window.location.href=e.redirect_to)}),"json")}}},tincannyModuleFunctions=function tincannyModuleFunctions(moduleController){var $this=this,captivateFunctions=new tincannyCaptivateFunctions,storylineFunctions=new tincannyStorylineFunctions(moduleController);this.checkStatues=function(e,t){var o=e.document.URL,i=this.getContentType(o);
// Captivate
"Captivate"!==i?"iSpring"!==i?"ArticulateRise"!==i?"Presenter360"!==i?"Lectora"!==i?"Scorm"!==i?"Tincan"!==i?
// Storyline : Replace Function
e.OnSendComplete?e.OnSendComplete=function(t){storylineFunctions.OnSendComplete(e,t)}:moduleController.replaceRequest(e,o,"Storyline"):moduleController.replaceRequest(e,o,"Tincan"):moduleController.replaceRequest(e,o,"Scorm"):moduleController.replaceRequest(e,o,"Lectora"):moduleController.replaceRequest(e,o,"Presenter360"):moduleController.replaceRequest(e,o,"ArticulateRise"):moduleController.replaceRequest(e,o,"iSpring"):this.processCaptivate(e,o,t)},this.getContentType=function(e){return e.indexOf("Captivate")>=0?"Captivate":e.indexOf("/res/")>=0?"iSpring":e.indexOf("ArticulateRise")>=0?"ArticulateRise":e.indexOf("ArticulateRise2017")>=0||e.indexOf("AR2017")>=0?"ArticulateRise2017":e.indexOf("Presenter360")>=0?"Presenter360":e.indexOf("Lectora")>=0?"Lectora":e.indexOf("Scorm")>=0?"Scorm":e.indexOf("Tincan")>=0?"Tincan":"Storyline"},this.processCaptivate=function(e,t,o){var i;t.indexOf("multiscreen.html")>=0?((i=jQuery(e.document)[0].getElementsByTagName("frame")[0]).contentWindow.DoCPExit&&(moduleController.replaceRequest(i.contentWindow,t,"Captivate"),i.contentWindow.DoCPExit=function(){captivateFunctions.DoCPExit(window,o)}),jQuery(i).on("load ready",(function(){moduleController.replaceRequest(jQuery(this)[0].contentWindow,t,"Captivate"),jQuery(this)[0].contentWindow.DoCPExit=function(){captivateFunctions.DoCPExit(window,o)}}))):t.indexOf("index_TINCAN.html")>=0?(moduleController.replaceRequest(e,t,"Captivate"),e.initializeCP=function(){captivateFunctions.initializeCP(window,e)}):(i=jQuery(e),jQuery(i).ready((function(){moduleController.replaceRequest(e,t,"Captivate"),e.DoCPExit=function(){captivateFunctions.DoCPExit(window,o)}})))},this.checkH5PCompletiton=function(){!moduleController||!moduleController.count||moduleController.count.H5P<=0||
// Detect Ajax Completion
jQuery(document).ajaxComplete((function(event,xhr,settings){
// Detect H5P xAPI
if(settings.url===WP_H5P_XAPI_STATEMENT_URL){
// Get Verb
var verb=settings.data.match(/http%3A%2F%2Fadlnet.gov%2Fexpapi%2Fverbs%2F([a-z]+)/);eval(unescape(settings.data));var id=statement.object.definition.extensions["http://h5p.org/x-api/h5p-local-content-id"];if(!moduleController.hasCompletionSetting)return moduleController.completion.H5P[id]=!0,moduleController.setButton(!0),void moduleController.markCompleted("H5P");"true"==xhr.responseJSON.message&&(moduleController.completion.H5P[id]=!0,moduleController.setButton(!0),moduleController.markCompleted("H5P"))}}))}},tincannyCaptivateFunctions=function(){var e=this;this.initializeCP=function(t,o){o.initialized||(o.initCalled=!0,o.cp&&o.cp.pg&&!1===o.deviceReady||(o.cpInit=function(){o.document.body.innerHTML=" <div class='cpMainContainer' id='cpDocument' style='left: 0px; top:0px;' >\t<div id='main_container' style='top:0px;position:absolute;width:100%;height:100%;'>\t<div id='projectBorder' style='top:0px;left:0px;width:100%;height:100%;position:absolute;display:block'></div>\t<div class='shadow' id='project_container' style='left: 0px; top:0px;width:100%;height:100%;position:absolute;overflow:hidden;' >\t<div id='project' class='cp-movie' style='width:100% ;height:100%;overflow:hidden;'>\t\t<div id='project_main' class='cp-timeline cp-main'>\t\t\t<div id='div_Slide' onclick='cp.handleClick(event)' style='top:0px; width:100% ;height:100% ;position:absolute;-webkit-tap-highlight-color: rgba(0,0,0,0);'></div>\t\t\t<canvas id='slide_transition_canvas'></canvas>\t\t</div>\t\t<div id='autoplayDiv' style='display:block;text-align:center;position:absolute;left:0px;top:0px;'>\t\t\t<img id='autoplayImage' src='' style='position:absolute;display:block;vertical-align:middle;'/>\t\t\t<div id='playImage' tabindex='9999' role='button' aria-label='play' onkeydown='cp.CPPlayButtonHandle(event)' onClick='cp.movie.play()' style='position:absolute;display:block;vertical-align:middle;'></div>\t\t</div>\t</div>\t<div id='toc' style='left:0px;position:absolute;-webkit-tap-highlight-color: rgba(0,0,0,0);'>\t</div>\t<div id='playbar' style='bottom:0px; position:fixed'>\t</div>\t<div id='cc' style='left:0px; position:fixed;visibility:hidden;pointer-events:none;' onclick='cp.handleCCClick(event)'>\t\t<div id='ccText' style='left:0px;float:left;position:absolute;width:100%;height:100%;'>\t\t<p style='margin-left:8px;margin-right:8px;margin-top:2px;'>\t\t</p>\t\t</div>\t\t<div id='ccClose' style='background-image:url(./assets/htmlimages/ccClose.png);right:10px; position:absolute;cursor:pointer;width:13px;height:11px;' onclick='cp.showHideCC()'>\t\t</div>\t</div>\t<div id='gestureIcon' class='gestureIcon'>\t</div>\t<div id='gestureHint' class='gestureHintDiv'>\t\t<div id='gImage' class='gesturesHint'></div>\t</div>\t<div id='pwdv' style='display:block;text-align:center;position:absolute;width:100%;height:100%;left:0px;top:0px'></div>\t<div id='exdv' style='display:block;text-align:center;position:absolute;width:100%;height:100%;left:0px;top:0px'></div>\t</div>\t</div></div><div id='blockUserInteraction' class='blocker' style='width:100%;height:100%;'>\t<table style='width:100%;height:100%;text-align:center;vertical-align:middle' id='loading' class='loadingBackground'>\t\t<tr style='width:100%;height:100%;text-align:center;vertical-align:middle'>\t\t\t<td style='width:100%;height:100%;text-align:center;vertical-align:middle'>\t\t\t\t<image id='preloaderImage'></image>\t\t\t\t<div id='loadingString' class='loadingString'>Loading...</div>\t\t\t</td>\t\t</tr>\t</table></div> <div id='initialLoading'></div>",o.cp.DoCPInit(),o.lCpExit=o.DoCPExit,targetWinDoCPExit=function(){"iFrame"!=openMethod&&("lightbox"!=openMethod?(o.cp.UnloadActivties&&o.cp.UnloadActivties(),o.lCpExit()):e.closeOverlay(t))}},o.cpInit(),o.initialized=!0))},this.DoCPExit=function(t,o){var i;"iFrame"!=o&&(t!=t.parent&&t.parent&&void 0!==t.parent.DoCPExit?t.parent.DoCPExit():t.top==self?(i=t.open("","_self"),e.closeWindow(i,o)):(i=t.top.open("","_self"),e.closeWindow(i.top,o)))},this.closeWindow=function(t,o){"lightbox"!=o?window.popup?window.popup.close():t.close():e.closeOverlay(t)},this.closeOverlay=function(e){for(var t=e.document.getElementsByClassName("goverlay");t.length>0;)t[0].parentNode.removeChild(t[0])}},tincannyStorylineFunctions=function(e){this.OnSendComplete=function(t,o){if(o.MessageType==t.TYPE_RESUME_RESTORE&&t.GetPlayer().SetTinCanResume(o.responseText),t.g_bWaitingTinCanResponse=!1,t.g_oCurrentRequest=null,t.g_arrTinCanMsgQueue.length>0&&!t.g_bStopPosting)t.SendRequest(t.g_arrTinCanMsgQueue.shift());e.checkCompletion(jQuery(t.document).context.URL,o.responseText)}},moduleController=new tincannyModuleController;window.moduleController=moduleController;
/*
jQuery(document).ready(function() {
	// jQuery( "body" ).append( document.createTextNode( "Global Ready" ) );

});
*/
var __webpack_export_target__=window;for(var __webpack_i__ in __webpack_exports__)__webpack_export_target__[__webpack_i__]=__webpack_exports__[__webpack_i__];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})
/******/})();
//# sourceMappingURL=modules.min.js.map